"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[561],{436:(n,e,t)=>{t.d(e,{Kw:()=>B,PC:()=>k,V:()=>S,Vt:()=>D,Z:()=>j,jn:()=>C,kt:()=>z,qG:()=>A,sT:()=>E,tA:()=>N,tE:()=>y});var a,o,r,i,s,d,c,l,p,x,u,g,h,m,b,f=t(7528),w=t(4752);const y=(0,w.i7)(a||(a=(0,f.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),A=(0,w.i7)(o||(o=(0,f.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),v=(0,w.i7)(r||(r=(0,f.A)(["\n  to { transform: rotate(360deg); }\n"]))),k=w.Ay.div(i||(i=(0,f.A)(["\n  min-height: 100vh;\n  background: #FAFAFC;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  color: #222;\n"]))),j=w.Ay.div(s||(s=(0,f.A)(["\n  position: sticky;\n  top: 0;\n  background: white;\n  padding: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  z-index: 100;\n"]))),S=w.Ay.div(d||(d=(0,f.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),D=w.Ay.div(c||(c=(0,f.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n  }\n"]))),C=w.Ay.button(l||(l=(0,f.A)(["\n  background: #3182F6;\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #2B6CB0;\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),N=(0,w.Ay)(C)(p||(p=(0,f.A)(["\n  background: #10B981;\n  \n  &:hover {\n    background: #059669;\n  }\n"]))),E=((0,w.Ay)(C)(x||(x=(0,f.A)(["\n  background: #7C3AED;\n  \n  &:hover {\n    background: #6D28D9;\n  }\n"]))),w.Ay.h1(u||(u=(0,f.A)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n"])))),z=(w.Ay.div(g||(g=(0,f.A)(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.2s ease;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  animation: "," 0.8s ease-out ","s both;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n"])),y,(n=>n.delay||0)),w.Ay.div(h||(h=(0,f.A)(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-top: 2px solid white;\n  border-radius: 50%;\n  animation: "," 1s linear infinite;\n"])),v)),B=(w.Ay.div(m||(m=(0,f.A)(["\n  background: rgba(16, 185, 129, 0.1);\n  border-radius: 10px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #10B981;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n  margin-top: 12px;\n  animation: "," 0.5s ease-out;\n"])),y),w.Ay.div(b||(b=(0,f.A)(["\n  background: rgba(239, 68, 68, 0.1);\n  border-radius: 10px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #EF4444;\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  margin-top: 12px;\n  animation: "," 0.5s ease-out;\n"])),y))},5561:(n,e,t)=>{t.r(e),t.d(e,{default:()=>q});var a,o,r,i,s,d,c,l,p,x,u,g,h,m,b,f,w=t(7528),y=t(9950),A=t(8429),v=t(4752),k=t(6393),j=t(5299),S=t(6220),D=t(436),C=t(8436),N=t(4414);const E=v.Ay.input(a||(a=(0,w.A)(["\n  padding: 12px 16px;\n  border: 2px solid rgba(59, 130, 246, 0.2);\n  border-radius: 10px;\n  font-size: 16px;\n  width: 100%;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  outline: none;\n  transition: all 0.2s ease;\n  background: white;\n  color: #222;\n\n  &:focus {\n    border-color: #3B82F6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n  \n  @media (max-width: 480px) {\n    padding: 10px 12px;\n    font-size: 14px;\n  }\n"]))),z=v.Ay.div(o||(o=(0,w.A)(["\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 10px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #3B82F6;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  margin-top: 12px;\n  transition: all 0.3s ease;\n  animation: "," 0.5s ease-out;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n"])),D.tE),B=v.Ay.div(r||(r=(0,w.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 16px;\n  \n  @media (max-width: 480px) {\n    padding: 12px;\n    gap: 12px;\n    grid-template-columns: 1fr;\n  }\n"]))),P=v.Ay.div(i||(i=(0,w.A)(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.2s ease;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  animation: "," 0.8s ease-out ","s both;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n"])),D.tE,(n=>n.delay)),F=v.Ay.div(s||(s=(0,w.A)(["\n  font-weight: 700;\n  padding: 16px;\n  font-size: 18px;\n  background: rgba(59, 130, 246, 0.05);\n  color: #222;\n  text-align: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  \n  @media (max-width: 480px) {\n    padding: 12px;\n    font-size: 16px;\n  }\n"]))),G=v.Ay.div(d||(d=(0,w.A)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n  padding: 16px;\n  \n  @media (max-width: 480px) {\n    gap: 6px;\n    padding: 12px;\n  }\n"]))),K=v.Ay.button(c||(c=(0,w.A)(["\n  position: relative;\n  padding: 12px 8px;\n  border: none;\n  border-radius: 8px;\n  background: #3182F6;\n  color: white;\n  cursor: pointer;\n  font-size: 14px;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  min-height: 76px;\n  font-weight: 600;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2px;\n  text-align: center;\n  line-height: 1.2;\n\n  &:hover:not(:disabled) {\n    background: #2B6CB0;\n    transform: translateY(-2px);\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  &.etc {\n    background: #F59E0B;\n    \n    &:hover:not(:disabled) {\n      background: #D97706;\n    }\n  }\n  \n  @media (max-width: 480px) {\n    font-size: 12px;\n    min-height: 68px;\n    padding: 10px 4px;\n    gap: 1px;\n  }\n"]))),R=v.Ay.div(l||(l=(0,w.A)(["\n  display: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n  z-index: 1000;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n"])),(n=>n.show?"flex":"none")),_=v.Ay.div(p||(p=(0,w.A)(["\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n  animation: "," 0.3s ease-out;\n"])),D.tE),Y=v.Ay.div(x||(x=(0,w.A)(["\n  color: #222;\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: 20px;\n  text-align: center;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n"]))),T=v.Ay.input(u||(u=(0,w.A)(["\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid rgba(59, 130, 246, 0.2);\n  border-radius: 8px;\n  font-size: 16px;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  outline: none;\n  transition: all 0.2s ease;\n  margin-bottom: 16px;\n  box-sizing: border-box;\n\n  &:focus {\n    border-color: #3B82F6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  &::placeholder {\n    color: #A0AEC0;\n  }\n"]))),J=v.Ay.div(g||(g=(0,w.A)(["\n  display: flex;\n  gap: 12px;\n"]))),L=v.Ay.button(h||(h=(0,w.A)(["\n  flex: 1;\n  padding: 12px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 600;\n  transition: all 0.2s ease;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  \n  &.cancel {\n    background: #E5E7EB;\n    color: #6B7280;\n    \n    &:hover {\n      background: #D1D5DB;\n    }\n  }\n  \n  &.confirm {\n    background: #3182F6;\n    color: white;\n    \n    &:hover {\n      background: #2B6CB0;\n    }\n  }\n"]))),V=v.Ay.div(m||(m=(0,w.A)(["\n  display: ",";\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  border-radius: ",";\n  padding: ",";\n  box-shadow: ",";\n  z-index: 1001;\n  width: 90%;\n  max-width: 400px;\n  text-align: center;\n  animation: "," 0.3s ease-out;\n"])),(n=>n.show?"block":"none"),k.w.borderRadius.xl,k.w.spacing["2xl"],k.w.shadows.xl,D.tE),H=v.Ay.div(b||(b=(0,w.A)(["\n  color: ",";\n  font-size: ",";\n  line-height: 1.6;\n  margin-bottom: ",";\n  white-space: pre-line;\n"])),k.w.colors.neutral[1],k.w.typography.fontSize.lg,k.w.spacing.xl),M=v.Ay.button(f||(f=(0,w.A)(["\n  background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);\n  color: white;\n  border: none;\n  padding: "," ",";\n  border-radius: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  transition: ",";\n\n  &:hover {\n    background: linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%);\n    transform: translateY(-1px);\n  }\n"])),k.w.spacing.md,k.w.spacing.xl,k.w.borderRadius.lg,k.w.typography.fontSize.base,k.w.typography.fontWeight.semibold,k.w.transitions.default),Z=()=>{const n=(0,A.Zp)(),[e,t]=(0,y.useState)(""),[a,o]=(0,y.useState)(""),[r,i]=(0,y.useState)(""),[s,d]=(0,y.useState)(!1),[c,l]=(0,y.useState)(!1),[p,x]=(0,y.useState)(""),[u,g]=(0,y.useState)(null),[h,m]=(0,y.useState)(""),[b,f]=(0,y.useState)(""),[w,v]=(0,y.useState)(new Set),[k,Z]=(0,y.useState)(0),[q,I]=(0,y.useState)([]),X=[...C.sp.map((n=>({name:n.reason,value:n.value,icon:n.emoji}))),{name:"\uae30\ud0c0",value:"custom",icon:"\u2795"}];(0,y.useEffect)((()=>{(async()=>{try{const n=await(0,C.cJ)();I(n)}catch(n){console.error("\ud559\uc0dd \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",n),I(C.XV)}})()}),[]),(0,y.useEffect)((()=>{const n=(new Date).toISOString().split("T")[0];t(n)}),[]);const O=(0,y.useCallback)(((n,e,t)=>{o("".concat(n," / ").concat(e,"\uc810 / ").concat(t)),setTimeout((()=>{o("")}),3e3)}),[]),U=(0,y.useCallback)((function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(n),setTimeout((()=>{i("")}),e)}),[]),W=(0,y.useCallback)((()=>{const n=Date.now();return!(n-k<2e3)&&(Z(n),!0)}),[k]),Q=(0,y.useCallback)((async(n,e)=>{try{const t=(0,S.H9)(j.db,"user_stats",n),a=await(0,S.x7)(t);if(a.exists()){const n=a.data().total||0;await(0,S.mZ)(t,{total:n+e})}else await(0,S.BN)(t,{total:e})}catch(t){console.error("user_stats \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",t)}}),[]),$=(0,y.useCallback)((async(n,e,t)=>{try{if(!C.sp.some((n=>n.reason===e)))return console.log("\ud83d\udcdd \uae30\ud0c0 \ud56d\ubaa9\uc740 \uc911\ubcf5 \uccb4\ud06c \uc548\ud568: ".concat(n," - ").concat(e)),!1;const[a,o,r]=t.split("-").map(Number),i="".concat(a,"-").concat(String(o).padStart(2,"0"),"-").concat(String(r).padStart(2,"0")),s=new Date(a,o-1,r,0,0,0),d=new Date(a,o-1,r,23,59,59),c=(0,S.P)((0,S.rJ)(j.db,"talant_history"),(0,S._M)("receivedDate",">=",S.Dc.fromDate(s)),(0,S._M)("receivedDate","<=",S.Dc.fromDate(d))),l=(await(0,S.GG)(c)).docs.some((t=>{const a=t.data();return a.name===n&&a.reason===e}));return l&&console.log("\ud83d\udea8 \uace0\uc815 \ud56d\ubaa9 \uc911\ubcf5 \ubc1c\uacac: ".concat(n," - ").concat(e," - ").concat(i)),l}catch(a){return console.error("\uc911\ubcf5 \uccb4\ud06c \uc624\ub958:",a),!1}}),[]),nn=(0,y.useCallback)((async function(n,t,a){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return x("\ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694!"),void l(!0);if(W()){o&&v((n=>new Set([...n,o])));try{if(await $(n,t,e)){const[a,o,r]=e.split("-").map(Number),i="".concat(a,"\ub144 ").concat(o,"\uc6d4 ").concat(r,"\uc77c");return x("\u26a0\ufe0f \uc911\ubcf5 \ub370\uc774\ud130 \ubc1c\uacac!\n\n".concat(n,"\ub2d8\uc740 ").concat(i,'\uc5d0\n\uc774\ubbf8 "').concat(t,'" \ub2ec\ub780\ud2b8\ub97c \ubc1b\uc558\uc2b5\ub2c8\ub2e4.\n\n\u203b \uace0\uc815 \ud56d\ubaa9\uc740 \ud558\ub8e8\uc5d0 \ud55c \ubc88\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.')),void l(!0)}const[o,r,i]=e.split("-").map(Number),s=new Date(o,r-1,i,0,0,0),d=new Date,c={name:n,reason:t,talant:a.toString(),receivedDate:S.Dc.fromDate(s),createdAt:S.Dc.fromDate(d)};await(0,S.gS)((0,S.rJ)(j.db,"talant_history"),c),await Q(n,a),O(n,a,t);const p="".concat(o,"\ub144 ").concat(r,"\uc6d4 ").concat(i,"\uc77c");x("\u2705 \uc785\ub825 \uc644\ub8cc!\n\n\uc774\ub984: ".concat(n,"\n\uc0ac\uc720: ").concat(t,"\n\ub2ec\ub780\ud2b8: ").concat(a,"\n\ub0a0\uc9dc: ").concat(p)),l(!0)}catch(r){console.error("\ub2ec\ub780\ud2b8 \uc800\uc7a5 \uc624\ub958:",r),U("\ub370\uc774\ud130 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ".concat(r.message)),x("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),l(!0)}finally{o&&setTimeout((()=>{v((n=>{const e=new Set(n);return e.delete(o),e}))}),1e3)}}}),[e,W,O,U,Q,$]),en=(0,y.useCallback)((n=>{g(n),m(""),f(""),d(!0)}),[]),tn=(0,y.useCallback)((async()=>{h.trim()&&b&&!isNaN(b)&&(await nn(u,h,parseInt(b)),d(!1))}),[h,b,u,nn]);return(0,y.useEffect)((()=>{const n=n=>{"Enter"===n.key&&s&&tn(),"Escape"===n.key&&(s&&d(!1),c&&l(!1))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),[s,c,tn]),(0,N.jsxs)(D.PC,{children:[(0,N.jsx)(D.Z,{children:(0,N.jsxs)(D.V,{children:[(0,N.jsxs)(D.Vt,{children:[(0,N.jsx)(D.jn,{onClick:()=>n("/talant"),children:"\u2190 \ub300\uc2dc\ubcf4\ub4dc"}),(0,N.jsx)(D.sT,{children:"\ub2ec\ub780\ud2b8 \uc785\ub825"}),(0,N.jsxs)(D.tA,{onClick:()=>n("/talant/history"),children:[(0,N.jsx)("span",{children:"\uc804\uccb4 \ub0b4\uc5ed"}),(0,N.jsx)("span",{children:"\ud83d\udccb"})]})]}),(0,N.jsx)(E,{type:"date",value:e,onChange:n=>t(n.target.value)}),a&&(0,N.jsx)(z,{children:a}),r&&(0,N.jsx)(D.Kw,{children:r})]})}),(0,N.jsx)(B,{children:q.map(((n,e)=>(0,N.jsxs)(P,{delay:.1*e,children:[(0,N.jsx)(F,{children:n}),(0,N.jsx)(G,{children:X.map((e=>{const t="".concat(n,"-").concat(e.name),a=w.has(t);return(0,N.jsx)(K,{className:"\uae30\ud0c0"===e.name?"etc":"",disabled:a,onClick:()=>{"custom"===e.value?en(n):nn(n,e.name,e.value,t)},children:a?(0,N.jsx)(D.kt,{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{children:e.icon}),(0,N.jsx)("div",{children:e.name}),"custom"!==e.value&&(0,N.jsxs)("div",{style:{fontSize:"0.8em",opacity:.9},children:[e.value,"\uc810"]})]})},e.name)}))})]},n)))}),(0,N.jsx)(R,{show:s,children:(0,N.jsxs)(_,{children:[(0,N.jsx)(Y,{children:"\uae30\ud0c0 \ub2ec\ub780\ud2b8 \uc785\ub825"}),(0,N.jsx)(T,{type:"text",placeholder:"\ub2ec\ub780\ud2b8 \uc0ac\uc720",value:h,onChange:n=>m(n.target.value),autoFocus:!0}),(0,N.jsx)(T,{type:"number",placeholder:"\ub2ec\ub780\ud2b8 \uc218",value:b,onChange:n=>f(n.target.value)}),(0,N.jsxs)(J,{children:[(0,N.jsx)(L,{className:"cancel",onClick:()=>d(!1),children:"\ucde8\uc18c"}),(0,N.jsx)(L,{className:"confirm",onClick:tn,disabled:!h.trim()||!b,children:"\ud655\uc778"})]})]})}),c&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(R,{show:!0}),(0,N.jsxs)(V,{show:c,children:[(0,N.jsx)(H,{children:p}),(0,N.jsx)(M,{onClick:()=>l(!1),children:"\ud655\uc778"})]})]})]})},q=(0,y.memo)(Z)},8436:(n,e,t)=>{t.d(e,{JC:()=>x,LP:()=>c,P0:()=>u,XV:()=>i,Yq:()=>l,cJ:()=>s,fU:()=>p,jw:()=>d,sp:()=>r});var a=t(6220),o=t(5299);const r=[{reason:"\ucd9c\uc11d",value:3,emoji:"\u2705"},{reason:"\uc624\ud6c4\ucd9c\uc11d",value:3,emoji:"\ud83c\udf05"},{reason:"\ubb38\ud654\uad50\uc2e4",value:3,emoji:"\ud83c\udfa8"},{reason:"\ub9d0\uc500\uc554\uc1a1",value:1,emoji:"\ud83d\udcd6"},{reason:"\uc131\uacbd\uc77d\uae30",value:1,emoji:"\ud83d\udcda"},{reason:"\uae30\ub3c4\ubb38\uae30\ub3c4",value:5,emoji:"\ud83d\ude4f"},{reason:"\uc190\uac00\ub77d\uae30\ub3c4",value:10,emoji:"\ud83d\udc4b"}],i=["\uc784\ub3d9\ud558","\uc7a5\uc9c0\ubbfc","\ud669\ud76c","\uae40\uc885\uc9c4","\ubc29\uc2dc\uc628","\uc815\uc608\ub2f4","\ubc29\uc628\uc720","\uc815\uc608\uc900"],s=async()=>{try{const n=(0,a.P)((0,a.rJ)(o.db,"user_stats")),e=await(0,a.GG)(n);if(e.empty){const n=i;for(const e of n)await(0,a.BN)((0,a.H9)(o.db,"user_stats",e),{total:0,createdAt:a.Dc.now()});return n.sort()}return e.docs.map((n=>n.id)).sort()}catch(n){return console.error("\ud559\uc0dd \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",n),i}},d=async n=>{try{const e=(0,a.H9)(o.db,"user_stats",n);if((await(0,a.x7)(e)).exists())throw new Error("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud559\uc0dd\uc785\ub2c8\ub2e4.");return await(0,a.BN)(e,{total:0,createdAt:a.Dc.now()}),!0}catch(e){throw console.error("\ud559\uc0dd \ucd94\uac00 \uc2e4\ud328:",e),e}},c=async n=>{try{const e=(0,a.P)((0,a.rJ)(o.db,"talant_history"),(0,a._M)("name","==",n)),t=await(0,a.GG)(e),r=500,i=[];let s=(0,a.wP)(o.db),d=0;t.forEach((n=>{d>=r&&(i.push(s),s=(0,a.wP)(o.db),d=0),s.delete(n.ref),d++})),d>0&&i.push(s);for(const n of i)await n.commit();const c=(0,a.H9)(o.db,"user_stats",n);return await(0,a.kd)(c),!0}catch(e){throw console.error("\ud559\uc0dd \uc0ad\uc81c \uc2e4\ud328:",e),e}},l=n=>n?n.toDate?n.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"string"===typeof n?new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):n.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",p=n=>{if(!n)return"";return(n.toDate?n.toDate():new Date(n)).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})},x=n=>{const e=new Set;return n.forEach((n=>{const t=n.date.toDate?n.date.toDate():new Date(n.date),a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));e.add(a)})),Array.from(e).sort().reverse()},u=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;n({show:!0,message:e}),setTimeout((()=>{n({show:!1,message:""})}),t)}}}]);