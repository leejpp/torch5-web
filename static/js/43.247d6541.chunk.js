"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[43],{43:(n,o,t)=>{t.r(o),t.d(o,{default:()=>Cn});var e,a,r,i,s,l,d,c,p,g,h,x,m,f,w,y,u,b,A,v,j,k,z,S,C,F,N,D,W,Y,R,E,B,M,_=t(9379),P=t(7528),$=t(9950),I=t(4752),J=t(6220),L=t(5299),Q=t(6393),X=t(4414);const H=(0,I.i7)(e||(e=(0,P.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),O=(0,I.i7)(a||(a=(0,P.A)(["\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n"]))),T=(0,I.i7)(r||(r=(0,P.A)(["\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n"]))),q=(0,I.i7)(i||(i=(0,P.A)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]))),G=(0,I.i7)(s||(s=(0,P.A)(["\n  from { transform: translateY(100px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"]))),K=(0,I.i7)(l||(l=(0,P.A)(["\n  0%, 100% { transform: rotate(-5deg); }\n  50% { transform: rotate(5deg); }\n"]))),U=I.Ay.div(d||(d=(0,P.A)(["\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  padding: 20px;\n  padding-bottom: 100px;\n"]))),V=I.Ay.div(c||(c=(0,P.A)(["\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: ",";\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: ",";\n  animation: "," 0.8s ease-out;\n  text-align: center;\n"])),Q.w.borderRadius.xl,Q.w.shadows.lg,H),Z=I.Ay.h1(p||(p=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin: 0 0 20px 0;\n  text-align: center;\n  background: linear-gradient(135deg, "," 0%, #9F77FF 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n\n  @media (max-width: 768px) {\n    font-size: ",";\n  }\n"])),Q.w.colors.neutral[1],Q.w.typography.fontSize["2xl"],Q.w.typography.fontWeight.bold,Q.w.colors.primary,Q.w.typography.fontSize.xl),nn=I.Ay.p(g||(g=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  margin: 0 0 25px 0;\n"])),Q.w.colors.neutral[3],Q.w.typography.fontSize.base),on=I.Ay.div(h||(h=(0,P.A)(["\n  display: flex;\n  gap: 15px;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),tn=I.Ay.button(x||(x=(0,P.A)(["\n  background: ",";\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: ",";\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  box-shadow: ",";\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .icon {\n    animation: "," 1s linear infinite;\n  }\n"])),(n=>"primary"===n.variant?"linear-gradient(135deg, ".concat(Q.w.colors.primary," 0%, #9F77FF 100%)"):"linear-gradient(135deg, #10B981 0%, #047857 100%)"),Q.w.borderRadius.lg,Q.w.typography.fontSize.base,Q.w.typography.fontWeight.medium,Q.w.transitions.default,Q.w.shadows.md,Q.w.shadows.lg,(n=>n.loading?q:"none")),en=I.Ay.div(m||(m=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  margin-top: 15px;\n  padding: 8px 16px;\n  background: ",";\n  border-radius: ",";\n  display: inline-block;\n"])),Q.w.colors.neutral[3],Q.w.typography.fontSize.sm,Q.w.colors.surface,Q.w.borderRadius.lg),an=I.Ay.div(f||(f=(0,P.A)(["\n  margin-bottom: 30px;\n  animation: "," 0.8s ease-out 0.2s both;\n"])),H),rn=I.Ay.div(w||(w=(0,P.A)(["\n  background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);\n  border-radius: ",";\n  padding: 30px;\n  text-align: center;\n  box-shadow: ",";\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  max-width: 400px;\n  margin: 0 auto;\n\n  &:hover {\n    transform: translateY(-5px) scale(1.02);\n    box-shadow: 0 20px 40px rgba(255, 215, 0, 0.3);\n  }\n\n  &::before {\n    content: '\u2728';\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    font-size: 2rem;\n    animation: "," 3s ease-in-out infinite;\n  }\n\n  &::after {\n    content: '\u2728';\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    font-size: 2rem;\n    animation: "," 3s ease-in-out infinite 1.5s;\n  }\n"])),Q.w.borderRadius.xl,Q.w.shadows.xl,O,O),sn=I.Ay.div(y||(y=(0,P.A)(["\n  color: #8B4513;\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: 20px;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n"])),Q.w.typography.fontSize.xl,Q.w.typography.fontWeight.bold),ln=I.Ay.div(u||(u=(0,P.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin-bottom: 15px;\n\n  .crown-icon {\n    font-size: 2.5rem;\n    animation: "," 2s ease-in-out infinite;\n  }\n\n  .name {\n    color: #8B4513;\n    font-size: ",";\n    font-weight: ",";\n    text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  }\n"])),K,Q.w.typography.fontSize["2xl"],Q.w.typography.fontWeight.bold),dn=I.Ay.div(b||(b=(0,P.A)(["\n  color: #8B4513;\n  font-size: ",";\n  font-weight: ",";\n  text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n"])),Q.w.typography.fontSize.xl,Q.w.typography.fontWeight.bold),cn=I.Ay.div(A||(A=(0,P.A)(["\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: ",";\n  box-shadow: ",";\n  overflow: hidden;\n  animation: "," 0.8s ease-out 0.4s both;\n"])),Q.w.borderRadius.xl,Q.w.shadows.md,H),pn=I.Ay.div(v||(v=(0,P.A)(["\n  background: ",";\n  padding: 20px 25px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  h2 {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin: 0;\n  }\n"])),Q.w.colors.surface,Q.w.colors.neutral[1],Q.w.typography.fontSize.xl,Q.w.typography.fontWeight.semibold),gn=I.Ay.div(j||(j=(0,P.A)(["\n  padding: 0;\n"]))),hn=I.Ay.div(k||(k=(0,P.A)(["\n  display: grid;\n  grid-template-columns: 60px 1fr 120px 60px;\n  align-items: center;\n  padding: 20px 25px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  transition: ",";\n  animation: "," 0.5s ease-out;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.02);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 50px 1fr 100px 50px;\n    padding: 15px 20px;\n  }\n"])),Q.w.transitions.default,G),xn=I.Ay.div(z||(z=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-align: center;\n\n  ","\n"])),(n=>2===n.rank?"#C0C0C0":3===n.rank?"#CD7F32":Q.w.colors.neutral[1]),Q.w.typography.fontSize.xl,Q.w.typography.fontWeight.bold,(n=>n.rank<=3&&"\n    background: ".concat(2===n.rank?"linear-gradient(135deg, #C0C0C0, #E8E8E8)":"linear-gradient(135deg, #CD7F32, #DEB887)",";\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  "))),mn=I.Ay.div(S||(S=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: ",";\n\n  &:hover {\n    color: ",";\n    transform: translateX(5px);\n  }\n"])),Q.w.colors.neutral[1],Q.w.typography.fontSize.base,Q.w.typography.fontWeight.medium,Q.w.transitions.default,Q.w.colors.primary),fn=I.Ay.div(C||(C=(0,P.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-align: right;\n"])),Q.w.colors.neutral[1],Q.w.typography.fontSize.base,Q.w.typography.fontWeight.semibold),wn=I.Ay.div(F||(F=(0,P.A)(["\n  text-align: center;\n  font-size: 1.2rem;\n\n  .up {\n    color: ",";\n    animation: "," 2s ease-in-out infinite;\n  }\n\n  .down {\n    color: ",";\n    animation: "," 2s ease-in-out infinite reverse;\n  }\n"])),Q.w.colors.success,O,Q.w.colors.error,O),yn=I.Ay.div(N||(N=(0,P.A)(["\n  text-align: center;\n  padding: 60px 20px;\n  color: ",";\n  animation: "," 0.8s ease-out;\n\n  .empty-icon {\n    font-size: 4rem;\n    margin-bottom: 20px;\n    animation: "," 3s ease-in-out infinite;\n  }\n\n  p {\n    font-size: ",";\n    margin: 0;\n  }\n"])),Q.w.colors.neutral[3],H,O,Q.w.typography.fontSize.base),un=I.Ay.div(D||(D=(0,P.A)(["\n  text-align: center;\n  padding: 40px;\n  color: ",";\n  font-size: ",";\n  \n  .loading-icon {\n    font-size: 2rem;\n    margin-bottom: 15px;\n    animation: "," 1.5s ease-in-out infinite;\n  }\n"])),Q.w.colors.neutral[3],Q.w.typography.fontSize.base,T),bn=I.Ay.div(W||(W=(0,P.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n"])),(n=>n.show?"flex":"none")),An=I.Ay.div(Y||(Y=(0,P.A)(["\n  background: white;\n  border-radius: ",";\n  box-shadow: ",";\n  padding: 30px;\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow-y: auto;\n  animation: "," 0.3s ease-out;\n  position: relative;\n\n  h3 {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin: 0 0 20px 0;\n    text-align: center;\n  }\n"])),Q.w.borderRadius.xl,Q.w.shadows.xl,G,Q.w.colors.neutral[1],Q.w.typography.fontSize.xl,Q.w.typography.fontWeight.semibold),vn=I.Ay.button(R||(R=(0,P.A)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  background: transparent;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: ",";\n  transition: ",";\n\n  &:hover {\n    color: ",";\n    transform: scale(1.1);\n  }\n"])),Q.w.colors.neutral[3],Q.w.transitions.default,Q.w.colors.neutral[1]),jn=I.Ay.div(E||(E=(0,P.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),kn=I.Ay.div(B||(B=(0,P.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid rgba(0, 0, 0, 0.1);\n\n  .history-info {\n    flex: 1;\n  }\n\n  .history-date {\n    color: ",";\n    font-size: ",";\n    margin-bottom: 5px;\n  }\n\n  .history-reason {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n  }\n\n  .history-amount {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n  }\n"])),Q.w.colors.surface,Q.w.borderRadius.lg,Q.w.colors.neutral[3],Q.w.typography.fontSize.sm,Q.w.colors.neutral[1],Q.w.typography.fontSize.base,Q.w.typography.fontWeight.medium,Q.w.colors.success,Q.w.typography.fontSize.base,Q.w.typography.fontWeight.semibold),zn=I.Ay.div(M||(M=(0,P.A)(["\n  position: fixed;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-50%) translateY(",");\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: ",";\n  padding: 16px 24px;\n  border-radius: ",";\n  color: ",";\n  font-size: ",";\n  z-index: 1001;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(20px);\n  opacity: ",";\n"])),(n=>n.$show?"0":"100px"),Q.w.shadows.xl,Q.w.borderRadius.lg,Q.w.colors.neutral[1],Q.w.typography.fontSize.base,(n=>n.$show?1:0)),Sn=()=>{const[n,o]=(0,$.useState)([]),[t,e]=(0,$.useState)(!0),[a,r]=(0,$.useState)(!1),[i,s]=(0,$.useState)(""),[l,d]=(0,$.useState)([]),[c,p]=(0,$.useState)({show:!1,name:"",history:[],loading:!1}),[g,h]=(0,$.useState)({show:!1,message:""}),x=(0,$.useCallback)((function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;h({show:!0,message:n}),setTimeout((()=>{h({show:!1,message:""})}),o)}),[]),m=(0,$.useCallback)(((n,o)=>{if(0===l.length)return"-";const t=l.findIndex((n=>n.name===o));if(-1===t)return"-";const e=t+1;return n<e?"up":n>e?"down":"-"}),[l]),f=(0,$.useCallback)((async()=>{try{const n=(0,J.P)((0,J.rJ)(L.db,"talant_history"));return new Promise(((o,t)=>{(0,J.aQ)(n,(n=>{if(n.empty)return void o([]);const t={};n.forEach((n=>{const o=n.data(),e=o.name,a=parseInt(o.talant)||0;t[e]||(t[e]=0),t[e]+=a}));const e=Object.entries(t).map((n=>{let[o,t]=n;return{name:o,score:t}})).sort(((n,o)=>o.score-n.score));o(e)}),(n=>{t(n)}))}))}catch(n){throw console.error("\ub7ad\ud0b9 \uacc4\uc0b0 \uc5d0\ub7ec:",n),n}}),[]),w=(0,$.useCallback)((async()=>{if(!a)try{r(!0);const n=await f(),t=new Date,a=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],i="\uc9d1\uacc4 \uae30\uc900\uc77c: ".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," (").concat(a[t.getDay()],") ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"));s(i),d((n=>[...n])),o(n),e(!1),x("\ub7ad\ud0b9\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(n){console.error("\ub7ad\ud0b9 \uc5c5\ub370\uc774\ud2b8 \uc5d0\ub7ec:",n),x("\ub7ad\ud0b9 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{r(!1)}}),[a,f,x]),y=(0,$.useCallback)((async n=>{p({show:!0,name:n,history:[],loading:!0});try{const o=(0,J.P)((0,J.rJ)(L.db,"talant_history"),(0,J._M)("name","==",n),(0,J.My)("receivedDate","desc"),(0,J.AB)(5));(0,J.aQ)(o,(n=>{if(n.empty)return void p((n=>(0,_.A)((0,_.A)({},n),{},{history:[],loading:!1})));const o=[];n.forEach((n=>{var t;const e=n.data(),a=(null===(t=e.receivedDate)||void 0===t?void 0:t.toDate())||new Date;o.push({date:"".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")),reason:e.reason||"\uc0ac\uc720 \uc5c6\uc74c",amount:e.talant||"0"})})),p((n=>(0,_.A)((0,_.A)({},n),{},{history:o,loading:!1})))}))}catch(o){console.error("\ub0b4\uc5ed \uc870\ud68c \uc5d0\ub7ec:",o),p((n=>(0,_.A)((0,_.A)({},n),{},{loading:!1}))),x("\ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}),[x]);return(0,$.useEffect)((()=>{w()}),[w]),(0,X.jsxs)(U,{children:[(0,X.jsxs)(V,{children:[(0,X.jsx)(Z,{children:"\ud83c\udfc6 \ub2ec\ub780\ud2b8 \ub7ad\ud0b9"}),(0,X.jsx)(nn,{children:"\uc8fc\uc77c\ud559\uad50 \ud559\uc0dd\ub4e4\uc758 \ub2ec\ub780\ud2b8 \uc810\uc218 \uc21c\uc704\ub97c \ud655\uc778\ud558\uc138\uc694"}),(0,X.jsx)(on,{children:(0,X.jsxs)(tn,{variant:"primary",onClick:w,disabled:a,loading:a,children:[(0,X.jsx)("span",{className:"icon",children:"\ud83d\udd04"}),a?"\ub85c\ub529 \uc911...":"\ub7ad\ud0b9 \uc0c8\ub85c\uace0\uce68"]})}),i&&(0,X.jsx)(en,{children:i})]}),(0,X.jsx)("div",{children:t?(0,X.jsxs)(un,{children:[(0,X.jsx)("div",{className:"loading-icon",children:"\u23f3"}),"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."]}):0===n.length?(0,X.jsxs)(yn,{children:[(0,X.jsx)("div",{className:"empty-icon",children:"\ud83d\udcca"}),(0,X.jsx)("p",{children:"\ud45c\uc2dc\ud560 \ub7ad\ud0b9 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(an,{children:(0,X.jsxs)(rn,{onClick:()=>y(n[0].name),children:[(0,X.jsx)(sn,{children:"\ud83c\udfc6 1\ub4f1"}),(0,X.jsxs)(ln,{children:[(0,X.jsx)("span",{className:"crown-icon",children:"\ud83d\udc51"}),(0,X.jsx)("span",{className:"name",children:n[0].name})]}),(0,X.jsxs)(dn,{children:[n[0].score.toLocaleString()," \ub2ec\ub780\ud2b8"]})]})}),n.length>1&&(0,X.jsxs)(cn,{children:[(0,X.jsx)(pn,{children:(0,X.jsx)("h2",{children:"\ud83c\udfaf \uc804\uccb4 \uc21c\uc704"})}),(0,X.jsx)(gn,{children:n.slice(1).map(((n,o)=>{const t=o+2,e=m(t,n.name);return(0,X.jsxs)(hn,{children:[(0,X.jsx)(xn,{rank:t,children:t}),(0,X.jsx)(mn,{onClick:()=>y(n.name),children:n.name}),(0,X.jsx)(fn,{children:n.score.toLocaleString()}),(0,X.jsxs)(wn,{children:["up"===e&&(0,X.jsx)("span",{className:"up",children:"\u2191"}),"down"===e&&(0,X.jsx)("span",{className:"down",children:"\u2193"}),"-"===e&&"-"]})]},n.name)}))})]})]})}),(0,X.jsx)(bn,{show:c.show,onClick:()=>p({show:!1,name:"",history:[],loading:!1}),children:(0,X.jsxs)(An,{onClick:n=>n.stopPropagation(),children:[(0,X.jsx)(vn,{onClick:()=>p({show:!1,name:"",history:[],loading:!1}),children:"\xd7"}),(0,X.jsxs)("h3",{children:[c.name,"\ub2d8\uc758 \ub2ec\ub780\ud2b8 \ub0b4\uc5ed"]}),c.loading?(0,X.jsxs)(un,{children:[(0,X.jsx)("div",{className:"loading-icon",children:"\u23f3"}),"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."]}):0===c.history.length?(0,X.jsxs)(yn,{children:[(0,X.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,X.jsx)("p",{children:"\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,X.jsx)(jn,{children:c.history.map(((n,o)=>(0,X.jsxs)(kn,{children:[(0,X.jsxs)("div",{className:"history-info",children:[(0,X.jsx)("div",{className:"history-date",children:n.date}),(0,X.jsx)("div",{className:"history-reason",children:n.reason})]}),(0,X.jsxs)("div",{className:"history-amount",children:["+",n.amount," \ub2ec\ub780\ud2b8"]})]},o)))})]})}),(0,X.jsx)(zn,{$show:g.show,children:g.message})]})},Cn=(0,$.memo)(Sn)}}]);