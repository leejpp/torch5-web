"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[248],{1774:(n,e,t)=>{t.r(e),t.d(e,{default:()=>pe});var r,o,a,i,l,d,s,c,p,g,b,h,x,u,m,f,y,A,w,v,k,j,F,z,C,Y,M,E,D,S,I,K,T,B,G,O,_,L,H,P,U,R,V,$,q,W,N,J,X=t(7528),Z=t(9379),Q=t(9950),nn=t(8835),en=t(8681),tn=t(7284),rn=t(5729),on=t(6864),an=(t(6379),t(2756)),ln=t(4752),dn=t(5299),sn=t(6220),cn=t(5949),pn=t(4414);const gn={ko:an.A},bn=(0,nn.Hz)({format:en.Ay,parse:tn.Ay,startOfWeek:rn.A,getDay:on.A,locales:gn}),hn="NONE",xn="YEARLY",un={DEFAULT:{label:"\uae30\ubcf8",bgColor:"#FFB6C1",color:"white"},BIRTHDAY:{label:"\uc0dd\uc77c",bgColor:"#E6E6FA",color:"#6A5ACD"},MEETING:{label:"\ubaa8\uc784",bgColor:"#E0F4FF",color:"#0066FF"},ACTIVITY:{label:"\ud65c\ub3d9",bgColor:"#E8F5E9",color:"#2E7D32"},EVENT:{label:"\ud589\uc0ac",bgColor:"#FFF3CD",color:"#856404"},HOLIDAY:{label:"\uacf5\ud734\uc77c",bgColor:"#FFEBEE",color:"#D32F2F"}},mn=(0,ln.i7)(r||(r=(0,X.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),fn=(0,ln.i7)(o||(o=(0,X.A)(["\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-10px);\n  }\n"]))),yn=ln.Ay.div(a||(a=(0,X.A)(["\n  min-height: 100vh;\n  position: relative;\n  overflow-x: hidden;\n"]))),An=ln.Ay.div(i||(i=(0,X.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  z-index: -2;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: \n      radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),\n      radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),\n      radial-gradient(circle at 40% 60%, rgba(236, 72, 153, 0.03) 0%, transparent 50%);\n  }\n"]))),wn=ln.Ay.header(l||(l=(0,X.A)(["\n  background: ",";\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: \n      radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),\n      radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);\n  }\n"])),cn.Tj.gradients.accent),vn=ln.Ay.div(d||(d=(0,X.A)(["\n  position: relative;\n  padding: "," "," ",";\n  text-align: center;\n  max-width: 1200px;\n  margin: 0 auto;\n  \n  "," {\n    padding: "," "," ",";\n  }\n"])),cn.YK["4xl"],cn.YK["2xl"],cn.YK["3xl"],cn.$_["max-md"],cn.YK["3xl"],cn.YK.lg,cn.YK["2xl"]),kn=ln.Ay.div(s||(s=(0,X.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: ",";\n  background: rgba(255, 255, 255, 0.2);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: ",";\n  padding: "," ",";\n  margin-bottom: ",";\n  animation: "," 0.8s ease-out;\n"])),cn.YK.sm,cn.Vq.full,cn.YK.sm,cn.YK.lg,cn.YK.xl,mn),jn=ln.Ay.span(c||(c=(0,X.A)(["\n  font-size: ",";\n"])),cn.Il.fontSize.lg),Fn=ln.Ay.span(p||(p=(0,X.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n"])),cn.Il.fontSize.sm,cn.Il.fontWeight.semibold),zn=ln.Ay.div(g||(g=(0,X.A)(["\n  margin-bottom: ",";\n"])),cn.YK.xl),Cn=ln.Ay.div(b||(b=(0,X.A)(["\n  font-size: ",";\n  margin-bottom: ",";\n  animation: "," 3s ease-in-out infinite, "," 0.8s ease-out 0.2s both;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n  \n  "," {\n    font-size: ",";\n  }\n"])),cn.Il.fontSize["4xl"],cn.YK.lg,fn,mn,cn.$_["max-md"],cn.Il.fontSize["3xl"]),Yn=ln.Ay.h1(h||(h=(0,X.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: ",";\n  font-family: ",";\n  animation: "," 0.8s ease-out 0.4s both;\n  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  \n  "," {\n    font-size: ",";\n  }\n"])),cn.Il.fontSize["4xl"],cn.Il.fontWeight.extrabold,cn.YK.sm,cn.Il.fontFamily.heading,mn,cn.$_["max-md"],cn.Il.fontSize["2xl"]),Mn=ln.Ay.p(x||(x=(0,X.A)(["\n  color: rgba(255, 255, 255, 0.9);\n  font-size: ",";\n  font-weight: ",";\n  animation: "," 0.8s ease-out 0.6s both;\n  \n  "," {\n    font-size: ",";\n  }\n"])),cn.Il.fontSize.xl,cn.Il.fontWeight.medium,mn,cn.$_["max-md"],cn.Il.fontSize.lg),En=ln.Ay.div(u||(u=(0,X.A)(["\n  color: rgba(255, 255, 255, 0.95);\n  font-size: ",";\n  font-weight: ",";\n  margin-top: ",";\n  text-align: center;\n  background: rgba(255, 255, 255, 0.1);\n  padding: "," ",";\n  border-radius: ",";\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: "," 0.8s ease-out 0.7s both;\n  \n  "," {\n    font-size: ",";\n    padding: "," ",";\n  }\n"])),cn.Il.fontSize.lg,cn.Il.fontWeight.bold,cn.YK.sm,cn.YK.sm,cn.YK.md,cn.Vq.lg,mn,cn.$_["max-md"],cn.Il.fontSize.base,cn.YK.xs,cn.YK.sm),Dn=ln.Ay.div(m||(m=(0,X.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: ",";\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  border-radius: ",";\n  padding: "," ",";\n  animation: "," 0.8s ease-out 0.8s both;\n  \n  "," {\n    padding: "," ",";\n  }\n"])),cn.YK.sm,cn.Vq.xl,cn.YK.lg,cn.YK.xl,mn,cn.$_["max-md"],cn.YK.md,cn.YK.lg),Sn=ln.Ay.span(f||(f=(0,X.A)(["\n  font-size: ",";\n"])),cn.Il.fontSize.lg),In=ln.Ay.span(y||(y=(0,X.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n  \n  "," {\n    font-size: ",";\n  }\n"])),cn.Il.fontSize.base,cn.Il.fontWeight.medium,cn.$_["max-md"],cn.Il.fontSize.sm),Kn=ln.Ay.main(A||(A=(0,X.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: "," ",";\n  \n  "," {\n    padding: "," ",";\n  }\n"])),cn.YK["3xl"],cn.YK.lg,cn.$_["max-md"],cn.YK["2xl"],cn.YK.md),Tn=ln.Ay.div(w||(w=(0,X.A)(["\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: ",";\n  box-shadow: ",";\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  animation: "," 0.8s ease-out 1s both;\n  \n  .rbc-calendar {\n    width: 100%;\n    height: 100% !important;\n  }\n  \n  .rbc-month-view {\n    border: none;\n    margin: 0;\n    width: 100%;\n  }\n  \n  .rbc-month-row {\n    min-height: 120px;\n  }\n  \n  .rbc-row {\n    margin: 0;\n  }\n\n  .rbc-header {\n    padding: 8px 0;\n    text-align: center;\n    font-size: 0.9rem;\n    border: none !important;\n    \n    &:first-child {\n      color: #ff4444;  // \uc77c\uc694\uc77c \ud5e4\ub354\n    }\n    &:last-child {\n      color: #0066ff;  // \ud1a0\uc694\uc77c \ud5e4\ub354\n    }\n  }\n  \n  .rbc-date-cell {\n    cursor: pointer;\n    padding: 4px;\n    text-align: center;\n    \n    > a {\n      font-size: 0.9rem;\n      margin: 0;\n      padding-top: 4px;\n      display: inline-block;\n    }\n    \n    &:hover {\n      background-color: rgba(255, 182, 193, 0.1);\n    }\n  }\n  \n  .rbc-event {\n    margin: 0;\n    padding: 2px 4px;\n    width: calc(100% - 2px) !important;\n    font-size: 0.85rem;\n    border: none;\n    border-radius: 2px;\n  }\n  \n  .rbc-row-segment {\n    padding: 0;\n  }\n  \n  .rbc-show-more {\n    margin: 0;\n    padding: 2px 4px;\n    background-color: transparent;\n    color: #666;\n    text-align: center;\n  }\n  \n  .rbc-month-view,\n  .rbc-month-row,\n  .rbc-date-cell,\n  .rbc-day-bg {\n    border: none !important;\n  }\n  \n  .rbc-month-row + .rbc-month-row {\n    border-top: 1px solid #eee;\n  }\n  \n  .rbc-toolbar {\n    display: none;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 0;\n    \n    .rbc-calendar {\n      height: calc(100vh - 60px) !important;\n    }\n    \n    .rbc-header {\n      padding: 8px 0;\n      font-size: 0.85rem;\n    }\n    \n    .rbc-date-cell > a {\n      font-size: 0.85rem;\n    }\n    \n    .rbc-event {\n      padding: 1px 2px;\n      margin: 0;\n      font-size: 0.8rem;\n    }\n  }\n\n  .rbc-date-cell {\n    cursor: pointer;\n    \n    &:hover {\n      background-color: #f8f8f8;\n    }\n  }\n\n  .rbc-selectable {\n    .rbc-day-bg {\n      cursor: pointer;\n      transition: background-color 0.2s;\n      \n      &:hover {\n        background-color: rgba(255, 182, 193, 0.1);\n      }\n      \n      &.rbc-selected {\n        background-color: rgba(255, 182, 193, 0.2);\n      }\n    }\n  }\n\n  .rbc-day-bg {\n    cursor: pointer;\n    transition: background-color 0.2s;\n    \n    &:hover {\n      background-color: rgba(255, 182, 193, 0.1);\n    }\n  }\n\n  .rbc-today {\n    background-color: #FFF9F9;  // \uc624\ub298 \ub0a0\uc9dc \ubc30\uacbd\uc0c9\n  }\n\n  .rbc-off-range-bg {\n    background-color: transparent;\n  }\n\n  .rbc-off-range {\n    color: #ccc;\n  }\n"])),cn.Vq["2xl"],cn.Eo.lg,mn),Bn=ln.Ay.div(v||(v=(0,X.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 400px;\n  color: #666;\n  font-size: 1.2rem;\n"]))),Gn=ln.Ay.div(k||(k=(0,X.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n  box-sizing: border-box;  // \ud328\ub529\uc744 \ub108\ube44\uc5d0 \ud3ec\ud568\n"]))),On=ln.Ay.div(j||(j=(0,X.A)(["\n  background-color: white;\n  padding: 2rem;\n  border-radius: 10px;\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  margin: auto;\n  position: relative;\n  box-sizing: border-box;  // \ud328\ub529\uc744 \ub108\ube44\uc5d0 \ud3ec\ud568\n\n  @media (max-width: 768px) {\n    width: 95%;\n    padding: 1rem;\n    margin: 10px;\n  }\n\n  // \uc2a4\ud06c\ub864\ubc14 \uc2a4\ud0c0\uc77c\ub9c1\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #FFB6C1;\n    border-radius: 3px;\n  }\n\n  // \ud3fc \uc694\uc18c\ub4e4\uc758 \ub108\ube44 \uc870\uc815\n  input, textarea, select {\n    width: 100%;\n    box-sizing: border-box;\n  }\n"]))),_n=ln.Ay.form(F||(F=(0,X.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    gap: 0.8rem;\n  }\n"]))),Ln=ln.Ay.div(z||(z=(0,X.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  width: 100%;\n"]))),Hn=ln.Ay.label(C||(C=(0,X.A)(["\n  color: #666;\n  font-size: 0.9rem;\n"]))),Pn=ln.Ay.input(Y||(Y=(0,X.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),Un=ln.Ay.textarea(M||(M=(0,X.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),Rn=ln.Ay.div(E||(E=(0,X.A)(["\n  display: flex;\n  gap: 1rem;\n  margin-top: 1.5rem;\n  position: sticky;\n  bottom: 0;\n  background: white;\n  padding: 1rem 0;\n  border-top: 1px solid #eee;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 0.5rem;\n    \n    button {\n      width: 100%;\n    }\n  }\n"]))),Vn=ln.Ay.button(D||(D=(0,X.A)(["\n  padding: 0.8rem 1.5rem;\n  border: none;\n  border-radius: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: ",";\n  cursor: ",";\n"])),(n=>n.disabled?.7:1),(n=>n.disabled?"not-allowed":"pointer")),$n=(0,ln.Ay)(Vn)(S||(S=(0,X.A)(["\n  background-color: #FFB6C1;\n  color: white;\n  flex: 1;\n  \n  &:hover {\n    background-color: #FF69B4;\n  }\n"]))),qn=(0,ln.Ay)(Vn)(I||(I=(0,X.A)(["\n  background-color: #ff4444;\n  color: white;\n  \n  &:hover {\n    background-color: #cc0000;\n  }\n"]))),Wn=(0,ln.Ay)(Vn)(K||(K=(0,X.A)(["\n  background-color: #f0f0f0;\n  color: #666;\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n"]))),Nn=ln.Ay.select(T||(T=(0,X.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  background-color: white;\n  color: #666;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l4 4 4-4'/%3E%3C/svg%3E\");\n  background-position: right 0.75rem center;\n  background-repeat: no-repeat;\n  background-size: 16px 12px;\n  padding-right: 2rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),Jn=ln.Ay.div(B||(B=(0,X.A)(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid #ffffff;\n  border-top: 2px solid transparent;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),Xn=ln.Ay.div(G||(G=(0,X.A)(["\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  background-color: ",";\n  color: white;\n  z-index: 1000;\n  animation: slideUp 0.3s ease;\n  \n  @keyframes slideUp {\n    from { transform: translate(-50%, 20px); opacity: 0; }\n    to { transform: translate(-50%, 0); opacity: 1; }\n  }\n"])),(n=>"error"===n.type?"#f44336":"#4CAF50")),Zn=(0,ln.Ay)(Gn)(O||(O=(0,X.A)(["\n  z-index: 1100;\n"]))),Qn=ln.Ay.div(_||(_=(0,X.A)(["\n  background-color: white;\n  padding: 2rem;\n  border-radius: 10px;\n  text-align: center;\n  width: 90%;\n  max-width: 400px;\n  \n  h3 {\n    margin-top: 0;\n    color: #333;\n  }\n  \n  p {\n    margin: 1rem 0;\n    color: #666;\n    \n    strong {\n      color: #333;\n    }\n  }\n"]))),ne=ln.Ay.div(L||(L=(0,X.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 2rem;\n"]))),ee=(0,ln.Ay)(qn)(H||(H=(0,X.A)(["\n  width: 120px;\n"]))),te=(0,ln.Ay)(On)(P||(P=(0,X.A)(["\n  max-width: 400px;\n  \n  h2 {\n    text-align: center;\n    margin-bottom: 1.5rem;\n  }\n"]))),re=ln.Ay.div(U||(U=(0,X.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  max-height: 400px;\n  overflow-y: auto;\n  margin-bottom: 1.5rem;\n  padding-right: 0.5rem;\n  \n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #FFB6C1;\n    border-radius: 3px;\n  }\n"]))),oe=ln.Ay.div(R||(R=(0,X.A)(["\n  padding: 1rem;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background-color: #f0f0f0;\n    transform: translateX(2px);\n  }\n"]))),ae=ln.Ay.div(V||(V=(0,X.A)(["\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 0.3rem;\n"]))),ie=ln.Ay.div($||($=(0,X.A)(["\n  font-size: 0.9rem;\n  color: #666;\n"]))),le=ln.Ay.button(q||(q=(0,X.A)(["\n  background-color: #f0f0f0;\n  color: #666;\n  padding: 0.8rem 1.5rem;\n  border: none;\n  border-radius: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: ",";\n  cursor: ",";\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n"])),(n=>n.disabled?.7:1),(n=>n.disabled?"not-allowed":"pointer")),de=ln.Ay.div(W||(W=(0,X.A)(["\n  margin: 1.5rem 0;\n  padding: 1rem;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n"]))),se=ln.Ay.div(N||(N=(0,X.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n"]))),ce=ln.Ay.div(J||(J=(0,X.A)(['\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  input[type="radio"] {\n    accent-color: #FFB6C1;\n  }\n  \n  label {\n    color: #333;\n    cursor: pointer;\n  }\n']))),pe=()=>{const[n,e]=(0,Q.useState)([]),[t,r]=(0,Q.useState)(!0),[o,a]=(0,Q.useState)(null),[i,l]=(0,Q.useState)(!1),[d,s]=(0,Q.useState)({title:"",start:"",end:"",description:"",location:"",type:"DEFAULT",repeat:{type:hn}}),[c,p]=(0,Q.useState)(!1),[g,b]=(0,Q.useState)({type:"",content:""}),[h,x]=(0,Q.useState)(!1),[u,m]=(0,Q.useState)({isOpen:!1,date:null,events:[]}),[f,y]=(0,Q.useState)("single"),[A,w]=(0,Q.useState)(new Date),[v,k]=(0,Q.useState)(null);(0,Q.useEffect)((()=>{j()}),[]),(0,Q.useEffect)((()=>{}),[i]),(0,Q.useEffect)((()=>{const n=n=>{if("ArrowLeft"===n.key){const n=new Date(A);n.setMonth(A.getMonth()-1),w(n)}else if("ArrowRight"===n.key){const n=new Date(A);n.setMonth(A.getMonth()+1),w(n)}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)}),[A]);const j=async()=>{try{const n=(0,sn.P)((0,sn.rJ)(dn.db,"events"),(0,sn.My)("start")),t=(await(0,sn.GG)(n)).docs.map((n=>(0,Z.A)((0,Z.A)({id:n.id},n.data()),{},{start:n.data().start.toDate(),end:n.data().end.toDate()})));e(t)}catch(n){console.error("Error fetching events:",n)}finally{r(!1)}},F=n=>{a(n),s({title:n.title,start:(0,en.Ay)(n.start,"yyyy-MM-dd"),end:(0,en.Ay)(n.end,"yyyy-MM-dd"),description:n.description||"",location:n.location||"",type:n.type||"DEFAULT",repeat:n.repeat||{type:hn}}),l(!0)},z=(n,e)=>{b({type:n,content:e}),setTimeout((()=>b({type:"",content:""})),3e3)};return(0,pn.jsxs)(yn,{children:[(0,pn.jsx)(An,{}),(0,pn.jsx)(wn,{children:(0,pn.jsxs)(vn,{children:[(0,pn.jsxs)(kn,{children:[(0,pn.jsx)(jn,{children:"\ud83d\udc51"}),(0,pn.jsx)(Fn,{children:"\uad00\ub9ac\uc790"})]}),(0,pn.jsxs)(zn,{children:[(0,pn.jsx)(Cn,{children:"\ud83d\udcc5"}),(0,pn.jsx)(Yn,{children:"\uc77c\uc815 \uad00\ub9ac"}),(0,pn.jsx)(Mn,{children:"\uccad\ub144\ubd80 \ud589\uc0ac \ubc0f \ubaa8\uc784 \uc77c\uc815 \uad00\ub9ac"}),(0,pn.jsx)(En,{children:(0,en.Ay)(A,"yyyy\ub144 M\uc6d4")})]}),(0,pn.jsxs)(Dn,{children:[(0,pn.jsx)(Sn,{children:"\ud83d\udcca"}),(0,pn.jsxs)(In,{children:["\uc774\ubc88 \ub2ec ",n.filter((n=>(0,en.Ay)(n.start,"yyyy-MM")===(0,en.Ay)(A,"yyyy-MM"))).length,"\uac1c\uc758 \uc77c\uc815\uc774 \uc788\uc2b5\ub2c8\ub2e4"]})]})]})}),(0,pn.jsx)(Kn,{children:(0,pn.jsx)(Tn,{onTouchStart:n=>{k(n.touches[0].clientX)},onTouchEnd:n=>{if(!v)return;const e=n.changedTouches[0].clientX,t=v-e;if(Math.abs(t)>50){const n=new Date(A);t>0?n.setMonth(A.getMonth()+1):n.setMonth(A.getMonth()-1),w(n)}k(null)},children:t?(0,pn.jsx)(Bn,{children:"\uc77c\uc815\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."}):(0,pn.jsx)(nn.Vv,{localizer:bn,events:n,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"ko",selectable:!0,onSelectSlot:n=>{let{start:e}=n;a(null),s({title:"",start:(0,en.Ay)(new Date(e),"yyyy-MM-dd"),end:(0,en.Ay)(new Date(e),"yyyy-MM-dd"),description:"",location:"",type:"DEFAULT",repeat:{type:hn}}),l(!0)},onSelectEvent:F,views:["month"],defaultView:"month",toolbar:!0,formats:{monthHeaderFormat:"yyyy\ub144 MM\uc6d4",dayHeaderFormat:"eee",dayRangeHeaderFormat:n=>{let{start:e,end:t}=n;return"".concat((0,en.Ay)(e,"MM\uc6d4 dd\uc77c")," - ").concat((0,en.Ay)(t,"MM\uc6d4 dd\uc77c"))}},messages:{showMore:n=>"+".concat(n,"\uac1c \ub354\ubcf4\uae30")},eventPropGetter:n=>{const e=un[n.type]||un.DEFAULT;return{style:{backgroundColor:e.bgColor,color:e.color}}},dayPropGetter:n=>{const e=new Date,t=n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getYear()===e.getYear(),r=0===n.getDay(),o=6===n.getDay();return{style:{cursor:"pointer",backgroundColor:t?"#FFF9F9":"white",color:r?"#ff4444":o?"#0066ff":"#333"}}},date:A,onNavigate:n=>w(n),draggableAccessor:()=>!1,longPressThreshold:20,components:{dateCellWrapper:n=>(0,pn.jsx)("div",{style:{height:"100%"},children:n.children})}})})}),i&&(0,pn.jsx)(Gn,{onClick:()=>l(!1),children:(0,pn.jsxs)(On,{onClick:n=>n.stopPropagation(),children:[(0,pn.jsx)("h2",{children:o?"\uc77c\uc815 \uc218\uc815":"\uc0c8 \uc77c\uc815"}),(0,pn.jsxs)(_n,{onSubmit:async n=>{n.preventDefault(),p(!0);try{const n={title:d.title,start:new Date(d.start.split("T")[0]),end:new Date(d.end.split("T")[0]),allDay:!0,description:d.description,location:d.location,type:d.type,repeat:d.repeat};if(d.repeat.type!==hn){const e=new Date;e.setFullYear(e.getFullYear()+1);const t=((n,e,t)=>{const r=crypto.randomUUID(),o=[(0,Z.A)((0,Z.A)({},n),{},{repeatGroupId:r,isRecurring:!0})],a=new Date(n.start),i=new Date(n.end)-a;for(let l=a.getFullYear()+1;l<=t.getFullYear()+5;l++){const e=new Date(a);e.setFullYear(l);const t=new Date(e.getTime()+i);o.push((0,Z.A)((0,Z.A)({},n),{},{start:e,end:t,repeatGroupId:r,isRecurring:!0}))}return o})(n,d.repeat,e),r=(0,sn.wP)(dn.db);t.forEach((n=>{const e=(0,sn.H9)((0,sn.rJ)(dn.db,"events"));r.set(e,n)})),await r.commit(),z("success","\ubc18\ubcf5 \uc77c\uc815\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else o?(await(0,sn.mZ)((0,sn.H9)(dn.db,"events",o.id),n),z("success","\uc77c\uc815\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):(await(0,sn.gS)((0,sn.rJ)(dn.db,"events"),n),z("success","\uc0c8 \uc77c\uc815\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));await j(),l(!1),a(null)}catch(e){console.error("Error saving event:",e),z("error","\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{p(!1)}},children:[(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc81c\ubaa9"}),(0,pn.jsx)(Pn,{type:"text",value:d.title,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{title:n.target.value})),required:!0})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc2dc\uc791 \ub0a0\uc9dc"}),(0,pn.jsx)(Pn,{type:"date",value:d.start,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{start:n.target.value})),required:!0})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc885\ub8cc \ub0a0\uc9dc"}),(0,pn.jsx)(Pn,{type:"date",value:d.end,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{end:n.target.value})),required:!0})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc124\uba85"}),(0,pn.jsx)(Un,{value:d.description,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{description:n.target.value}))})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc7a5\uc18c"}),(0,pn.jsx)(Pn,{type:"text",value:d.location,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{location:n.target.value}))})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\uc77c\uc815 \ud0c0\uc785"}),(0,pn.jsx)(Nn,{value:d.type,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{type:n.target.value})),children:Object.entries(un).map((n=>{let[e,t]=n;return(0,pn.jsx)("option",{value:e,children:t.label},e)}))})]}),(0,pn.jsxs)(Ln,{children:[(0,pn.jsx)(Hn,{children:"\ubc18\ubcf5"}),(0,pn.jsxs)(Nn,{value:d.repeat.type,onChange:n=>s((0,Z.A)((0,Z.A)({},d),{},{repeat:{type:n.target.value}})),children:[(0,pn.jsx)("option",{value:hn,children:"\ubc18\ubcf5 \uc548\ud568"}),(0,pn.jsx)("option",{value:xn,children:"\ub9e4\ub144"})]})]}),(0,pn.jsxs)(Rn,{children:[(0,pn.jsx)($n,{type:"submit",disabled:c,children:c?(0,pn.jsx)(Jn,{}):o?"\uc218\uc815":"\ucd94\uac00"}),o&&(0,pn.jsx)(qn,{type:"button",onClick:async()=>{o&&x(!0)},disabled:c,children:c?(0,pn.jsx)(Jn,{}):"\uc0ad\uc81c"}),(0,pn.jsx)(Wn,{type:"button",onClick:()=>l(!1),disabled:c,children:"\ucde8\uc18c"})]})]})]})}),h&&(0,pn.jsx)(Zn,{children:(0,pn.jsxs)(Qn,{children:[(0,pn.jsx)("h3",{children:"\uc77c\uc815 \uc0ad\uc81c"}),(0,pn.jsx)("p",{children:"\uc815\ub9d0 \uc774 \uc77c\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,pn.jsx)("p",{children:(0,pn.jsx)("strong",{children:null===o||void 0===o?void 0:o.title})}),(null===o||void 0===o?void 0:o.isRecurring)&&(0,pn.jsx)(de,{children:(0,pn.jsxs)(se,{children:[(0,pn.jsxs)(ce,{children:[(0,pn.jsx)("input",{type:"radio",id:"single",name:"deleteOption",value:"single",checked:"single"===f,onChange:n=>y(n.target.value)}),(0,pn.jsx)("label",{htmlFor:"single",children:"\uc774 \uc77c\uc815\ub9cc \uc0ad\uc81c"})]}),(0,pn.jsxs)(ce,{children:[(0,pn.jsx)("input",{type:"radio",id:"all",name:"deleteOption",value:"all",checked:"all"===f,onChange:n=>y(n.target.value)}),(0,pn.jsx)("label",{htmlFor:"all",children:"\ubaa8\ub4e0 \ubc18\ubcf5 \uc77c\uc815 \uc0ad\uc81c"})]})]})}),(0,pn.jsxs)(ne,{children:[(0,pn.jsx)(ee,{onClick:async()=>{p(!0);try{if(null!==o&&void 0!==o&&o.isRecurring&&"all"===f){const n=(0,sn.P)((0,sn.rJ)(dn.db,"events"),(0,sn._M)("repeatGroupId","==",o.repeatGroupId)),e=await(0,sn.GG)(n),t=(0,sn.wP)(dn.db);e.docs.forEach((n=>{t.delete(n.ref)})),await t.commit(),z("success","\ubaa8\ub4e0 \ubc18\ubcf5 \uc77c\uc815\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else await(0,sn.kd)((0,sn.H9)(dn.db,"events",o.id)),z("success","\uc77c\uc815\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");await j(),l(!1),x(!1),a(null)}catch(n){console.error("Error deleting event:",n),z("error","\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{p(!1)}},disabled:c,children:c?(0,pn.jsx)(Jn,{}):"\uc0ad\uc81c"}),(0,pn.jsx)(Wn,{onClick:()=>x(!1),disabled:c,children:"\ucde8\uc18c"})]})]})}),g.content&&(0,pn.jsx)(Xn,{type:g.type,children:g.content}),u.isOpen&&(0,pn.jsx)(Gn,{onClick:()=>m({isOpen:!1,date:null,events:[]}),children:(0,pn.jsxs)(te,{onClick:n=>n.stopPropagation(),children:[(0,pn.jsxs)("h2",{children:[(0,en.Ay)(u.date,"yyyy\ub144 MM\uc6d4 dd\uc77c")," \uc77c\uc815"]}),(0,pn.jsx)(re,{children:u.events.map(((n,e)=>(0,pn.jsxs)(oe,{onClick:()=>{F(n),m({isOpen:!1,date:null,events:[]})},children:[(0,pn.jsx)(ae,{children:n.title}),n.location&&(0,pn.jsx)(ie,{children:n.location})]},e)))}),(0,pn.jsx)(le,{onClick:()=>m({isOpen:!1,date:null,events:[]}),children:"\ub2eb\uae30"})]})})]})}}}]);