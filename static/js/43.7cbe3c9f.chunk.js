"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[43],{5188:(n,t,e)=>{e.d(t,{B2:()=>Q,Gv:()=>$,SG:()=>K,Sm:()=>I,U9:()=>J,US:()=>B,WK:()=>U,_6:()=>P,_M:()=>R,ft:()=>G,mr:()=>X,pQ:()=>T,rF:()=>_,t:()=>H,vI:()=>W});var o,r,a,i,s,d,c,l,p,g,x,h,m,u,f,y,b,w,A,v,k,j,S,z,F,D,C,L,Y,E=e(7528),N=e(4752);const B={primary:"#0064FF",primaryLight:"#E6F2FF",primaryDark:"#0050CC",grey50:"#F9FAFB",grey100:"#F3F4F6",grey200:"#E5E7EB",grey300:"#D1D5DB",grey400:"#9CA3AF",grey500:"#6B7280",grey600:"#4B5563",grey700:"#374151",grey800:"#1F2937",grey900:"#111827",success:"#00C896",successLight:"#E6F9F5",warning:"#FF8A00",warningLight:"#FFF4E6",danger:"#FF4545",dangerLight:"#FFE6E6",background:"#FFFFFF",backgroundSecondary:"#F8FAFC",backgroundTertiary:"#F1F3F4"},_={fadeInUp:(0,N.i7)(o||(o=(0,E.A)(["\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  "]))),slideInLeft:(0,N.i7)(r||(r=(0,E.A)(["\n    from {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  "]))),bounce:(0,N.i7)(a||(a=(0,E.A)(["\n    0%, 20%, 53%, 80%, 100% {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n      transform: translate3d(0,0,0);\n    }\n    40%, 43% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -30px, 0);\n    }\n    70% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -15px, 0);\n    }\n    90% {\n      transform: translate3d(0,-4px,0);\n    }\n  "]))),shimmer:(0,N.i7)(i||(i=(0,E.A)(["\n    0% {\n      background-position: -200px 0;\n    }\n    100% {\n      background-position: calc(200px + 100%) 0;\n    }\n  "])))},H=N.Ay.div(s||(s=(0,E.A)(["\n  min-height: 100vh;\n  background: ",";\n  font-family: 'SF Pro Display', 'SF Pro Icons', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  color: ",";\n  line-height: 1.6;\n"])),B.backgroundSecondary,B.grey900),W=N.Ay.header(d||(d=(0,E.A)(["\n  position: sticky;\n  top: 0;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border-bottom: 1px solid ",";\n  z-index: 100;\n  padding: 0 20px;\n  \n  @media (max-width: 768px) {\n    padding: 0 16px;\n  }\n"])),B.grey100),I=N.Ay.div(c||(c=(0,E.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 16px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),M=(0,N.AH)(l||(l=(0,E.A)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-family: inherit;\n  font-weight: 600;\n  text-decoration: none;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-sizing: border-box;\n  user-select: none;\n  outline: none;\n  \n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n    transform: none !important;\n  }\n  \n  &:focus-visible {\n    outline: 2px solid ",";\n    outline-offset: 2px;\n  }\n"])),B.primary),P=N.Ay.button(p||(p=(0,E.A)(["\n  ","\n  background: ",";\n  color: white;\n  padding: 12px 20px;\n  font-size: 16px;\n  \n  &:hover:not(:disabled) {\n    background: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 100, 255, 0.3);\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n  }\n"])),M,B.primary,B.primaryDark),R=N.Ay.button(g||(g=(0,E.A)(["\n  ","\n  background: ",";\n  color: ",";\n  padding: 12px 20px;\n  font-size: 16px;\n  \n  &:hover:not(:disabled) {\n    background: ",";\n    transform: translateY(-1px);\n  }\n"])),M,B.grey100,B.grey700,B.grey200),G=N.Ay.button(x||(x=(0,E.A)(["\n  ","\n  background: transparent;\n  color: ",";\n  padding: 8px 12px;\n  font-size: 14px;\n  \n  &:hover:not(:disabled) {\n    background: ",";\n  }\n"])),M,B.primary,B.primaryLight),U=N.Ay.div(h||(h=(0,E.A)(["\n  background: white;\n  border-radius: 16px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  animation: "," 0.6s ease-out;\n  animation-delay: ","s;\n  animation-fill-mode: both;\n  \n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n  }\n"])),_.fadeInUp,(n=>n.delay||0)),J=(N.Ay.div(m||(m=(0,E.A)(["\n  padding: 24px 24px 0;\n"]))),N.Ay.div(u||(u=(0,E.A)(["\n  padding: 24px;\n"])))),K=(N.Ay.div(f||(f=(0,E.A)(["\n  padding: 0 24px 24px;\n"]))),N.Ay.h1(y||(y=(0,E.A)(["\n  font-size: 28px;\n  font-weight: 700;\n  color: ",";\n  margin: 0 0 8px 0;\n  line-height: 1.3;\n  \n  @media (max-width: 768px) {\n    font-size: 24px;\n  }\n"])),B.grey900)),X=N.Ay.p(b||(b=(0,E.A)(["\n  font-size: 16px;\n  color: ",";\n  margin: 0;\n  line-height: 1.5;\n"])),B.grey600),T=(N.Ay.input(w||(w=(0,E.A)(["\n  width: 100%;\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 12px;\n  font-size: 16px;\n  font-family: inherit;\n  background: white;\n  transition: all 0.2s ease;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 3px ",";\n  }\n  \n  &::placeholder {\n    color: ",";\n  }\n"])),B.grey200,B.primary,B.primaryLight,B.grey400),N.Ay.div(A||(A=(0,E.A)(["\n  background: ",";\n  color: ",";\n  padding: 16px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  animation: "," 0.4s ease-out;\n  \n  &::before {\n    content: '\u2705';\n    font-size: 16px;\n  }\n"])),B.successLight,B.success,_.slideInLeft),N.Ay.div(v||(v=(0,E.A)(["\n  background: ",";\n  color: ",";\n  padding: 16px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  animation: "," 0.4s ease-out;\n  \n  &::before {\n    content: '\u274c';\n    font-size: 16px;\n  }\n"])),B.dangerLight,B.danger,_.slideInLeft),N.Ay.div(k||(k=(0,E.A)(["\n  background: ",";\n  color: ",";\n  padding: 16px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  animation: "," 0.4s ease-out;\n  \n  &::before {\n    content: '\u26a0\ufe0f';\n    font-size: 16px;\n  }\n"])),B.warningLight,B.warning,_.slideInLeft),N.Ay.div(j||(j=(0,E.A)(["\n  width: 24px;\n  height: 24px;\n  border: 3px solid ",";\n  border-top: 3px solid ",";\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"])),B.grey200,B.primary),N.Ay.span(S||(S=(0,E.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px 12px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  \n  ","\n"])),(n=>{switch(n.variant){case"success":return(0,N.AH)(z||(z=(0,E.A)(["\n          background: ",";\n          color: ",";\n        "])),B.successLight,B.success);case"warning":return(0,N.AH)(F||(F=(0,E.A)(["\n          background: ",";\n          color: ",";\n        "])),B.warningLight,B.warning);case"danger":return(0,N.AH)(D||(D=(0,E.A)(["\n          background: ",";\n          color: ",";\n        "])),B.dangerLight,B.danger);default:return(0,N.AH)(C||(C=(0,E.A)(["\n          background: ",";\n          color: ",";\n        "])),B.primaryLight,B.primary)}}))),$=N.Ay.div(L||(L=(0,E.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 24px;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    gap: 16px;\n  }\n"]))),Q=N.Ay.div(Y||(Y=(0,E.A)(["\n  display: flex;\n  align-items: ",";\n  justify-content: ",";\n  gap: ",";\n  flex-wrap: ",";\n  \n  @media (max-width: 768px) {\n    flex-direction: ",";\n    gap: ",";\n  }\n"])),(n=>n.align||"center"),(n=>n.justify||"flex-start"),(n=>n.gap||"12px"),(n=>n.wrap||"nowrap"),(n=>n.mobileDirection||"column"),(n=>n.mobileGap||"12px"))},43:(n,t,e)=>{e.r(t),e.d(t,{default:()=>kn});var o,r,a,i,s,d,c,l,p,g,x,h,m,u,f,y,b,w,A,v,k,j,S,z,F,D,C,L,Y,E,N,B=e(9379),_=e(7528),H=e(9950),W=e(4752),I=e(6220),M=e(5299),P=e(6393),R=e(5188),G=e(8436),U=e(4414);const J=(0,W.i7)(o||(o=(0,_.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),K=(0,W.i7)(r||(r=(0,_.A)(["\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n"]))),X=(0,W.i7)(a||(a=(0,_.A)(["\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n"]))),T=(0,W.i7)(i||(i=(0,_.A)(["\n  from { transform: translateY(100px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"]))),$=(0,W.i7)(s||(s=(0,_.A)(["\n  0%, 100% { transform: rotate(-5deg); }\n  50% { transform: rotate(5deg); }\n"]))),Q=(0,W.Ay)(R.t)(d||(d=(0,_.A)(["\n  padding: 20px;\n  padding-bottom: 100px;\n"]))),q=(0,W.Ay)(R.WK)(c||(c=(0,_.A)(["\n  text-align: center;\n  margin-bottom: 30px;\n  animation: "," 0.8s ease-out;\n"])),R.rF.fadeInUp),V=(0,W.Ay)(R.SG)(l||(l=(0,_.A)(["\n  background: linear-gradient(135deg, "," 0%, #9F77FF 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  margin-bottom: 12px;\n  \n  @media (max-width: 768px) {\n    font-size: 24px;\n  }\n"])),R.US.primary),O=(0,W.Ay)(R.B2)(p||(p=(0,_.A)(["\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin: 20px 0;\n"]))),Z=W.Ay.div(g||(g=(0,_.A)(["\n  color: ",";\n  font-size: ",";\n  margin-top: 15px;\n  padding: 8px 16px;\n  background: ",";\n  border-radius: ",";\n  display: inline-block;\n"])),P.w.colors.neutral[3],P.w.typography.fontSize.sm,P.w.colors.surface,P.w.borderRadius.lg),nn=W.Ay.div(x||(x=(0,_.A)(["\n  margin-bottom: 30px;\n  animation: "," 0.8s ease-out 0.2s both;\n"])),J),tn=W.Ay.div(h||(h=(0,_.A)(["\n  background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);\n  border-radius: ",";\n  padding: 30px;\n  text-align: center;\n  box-shadow: ",";\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  max-width: 400px;\n  margin: 0 auto;\n\n  &:hover {\n    transform: translateY(-5px) scale(1.02);\n    box-shadow: 0 20px 40px rgba(255, 215, 0, 0.3);\n  }\n\n  &::before {\n    content: '\u2728';\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    font-size: 2rem;\n    animation: "," 3s ease-in-out infinite;\n  }\n\n  &::after {\n    content: '\u2728';\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    font-size: 2rem;\n    animation: "," 3s ease-in-out infinite 1.5s;\n  }\n"])),P.w.borderRadius.xl,P.w.shadows.xl,K,K),en=W.Ay.div(m||(m=(0,_.A)(["\n  color: #8B4513;\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: 20px;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n"])),P.w.typography.fontSize.xl,P.w.typography.fontWeight.bold),on=W.Ay.div(u||(u=(0,_.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin-bottom: 15px;\n\n  .crown-icon {\n    font-size: 2.5rem;\n    animation: "," 2s ease-in-out infinite;\n  }\n\n  .name {\n    color: #8B4513;\n    font-size: ",";\n    font-weight: ",";\n    text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  }\n"])),$,P.w.typography.fontSize["2xl"],P.w.typography.fontWeight.bold),rn=W.Ay.div(f||(f=(0,_.A)(["\n  color: #8B4513;\n  font-size: ",";\n  font-weight: ",";\n  text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n"])),P.w.typography.fontSize.xl,P.w.typography.fontWeight.bold),an=W.Ay.div(y||(y=(0,_.A)(["\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: ",";\n  box-shadow: ",";\n  overflow: hidden;\n  animation: "," 0.8s ease-out 0.4s both;\n"])),P.w.borderRadius.xl,P.w.shadows.md,J),sn=W.Ay.div(b||(b=(0,_.A)(["\n  background: ",";\n  padding: 20px 25px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n  h2 {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin: 0;\n  }\n"])),P.w.colors.surface,P.w.colors.neutral[1],P.w.typography.fontSize.xl,P.w.typography.fontWeight.semibold),dn=W.Ay.div(w||(w=(0,_.A)(["\n  padding: 0;\n"]))),cn=W.Ay.div(A||(A=(0,_.A)(["\n  display: grid;\n  grid-template-columns: 60px 1fr 120px 60px;\n  align-items: center;\n  padding: 20px 25px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  transition: ",";\n  animation: "," 0.5s ease-out;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.02);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 50px 1fr 100px 50px;\n    padding: 15px 20px;\n  }\n"])),P.w.transitions.default,T),ln=W.Ay.div(v||(v=(0,_.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-align: center;\n\n  ","\n"])),(n=>2===n.rank?"#C0C0C0":3===n.rank?"#CD7F32":P.w.colors.neutral[1]),P.w.typography.fontSize.xl,P.w.typography.fontWeight.bold,(n=>n.rank<=3&&"\n    background: ".concat(2===n.rank?"linear-gradient(135deg, #C0C0C0, #E8E8E8)":"linear-gradient(135deg, #CD7F32, #DEB887)",";\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  "))),pn=W.Ay.div(k||(k=(0,_.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: ",";\n\n  &:hover {\n    color: ",";\n    transform: translateX(5px);\n  }\n"])),P.w.colors.neutral[1],P.w.typography.fontSize.base,P.w.typography.fontWeight.medium,P.w.transitions.default,P.w.colors.primary),gn=W.Ay.div(j||(j=(0,_.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-align: right;\n"])),P.w.colors.neutral[1],P.w.typography.fontSize.base,P.w.typography.fontWeight.semibold),xn=W.Ay.div(S||(S=(0,_.A)(["\n  text-align: center;\n  font-size: 1.2rem;\n\n  .up {\n    color: ",";\n    animation: "," 2s ease-in-out infinite;\n  }\n\n  .down {\n    color: ",";\n    animation: "," 2s ease-in-out infinite reverse;\n  }\n"])),P.w.colors.success,K,P.w.colors.error,K),hn=W.Ay.div(z||(z=(0,_.A)(["\n  text-align: center;\n  padding: 60px 20px;\n  color: ",";\n  animation: "," 0.8s ease-out;\n\n  .empty-icon {\n    font-size: 4rem;\n    margin-bottom: 20px;\n    animation: "," 3s ease-in-out infinite;\n  }\n\n  p {\n    font-size: ",";\n    margin: 0;\n  }\n"])),P.w.colors.neutral[3],J,K,P.w.typography.fontSize.base),mn=W.Ay.div(F||(F=(0,_.A)(["\n  text-align: center;\n  padding: 40px;\n  color: ",";\n  font-size: ",";\n  \n  .loading-icon {\n    font-size: 2rem;\n    margin-bottom: 15px;\n    animation: "," 1.5s ease-in-out infinite;\n  }\n"])),P.w.colors.neutral[3],P.w.typography.fontSize.base,X),un=W.Ay.div(D||(D=(0,_.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n"])),(n=>n.show?"flex":"none")),fn=W.Ay.div(C||(C=(0,_.A)(["\n  background: white;\n  border-radius: ",";\n  box-shadow: ",";\n  padding: 30px;\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow-y: auto;\n  animation: "," 0.3s ease-out;\n  position: relative;\n\n  h3 {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin: 0 0 20px 0;\n    text-align: center;\n  }\n"])),P.w.borderRadius.xl,P.w.shadows.xl,T,P.w.colors.neutral[1],P.w.typography.fontSize.xl,P.w.typography.fontWeight.semibold),yn=W.Ay.button(L||(L=(0,_.A)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  background: transparent;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: ",";\n  transition: ",";\n\n  &:hover {\n    color: ",";\n    transform: scale(1.1);\n  }\n"])),P.w.colors.neutral[3],P.w.transitions.default,P.w.colors.neutral[1]),bn=W.Ay.div(Y||(Y=(0,_.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),wn=W.Ay.div(E||(E=(0,_.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid rgba(0, 0, 0, 0.1);\n\n  .history-info {\n    flex: 1;\n  }\n\n  .history-date {\n    color: ",";\n    font-size: ",";\n    margin-bottom: 5px;\n  }\n\n  .history-reason {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n  }\n\n  .history-amount {\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n  }\n"])),P.w.colors.surface,P.w.borderRadius.lg,P.w.colors.neutral[3],P.w.typography.fontSize.sm,P.w.colors.neutral[1],P.w.typography.fontSize.base,P.w.typography.fontWeight.medium,P.w.colors.success,P.w.typography.fontSize.base,P.w.typography.fontWeight.semibold),An=W.Ay.div(N||(N=(0,_.A)(["\n  position: fixed;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-50%) translateY(",");\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: ",";\n  padding: 16px 24px;\n  border-radius: ",";\n  color: ",";\n  font-size: ",";\n  z-index: 1001;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(20px);\n  opacity: ",";\n"])),(n=>n.$show?"0":"100px"),P.w.shadows.xl,P.w.borderRadius.lg,P.w.colors.neutral[1],P.w.typography.fontSize.base,(n=>n.$show?1:0)),vn=()=>{const[n,t]=(0,H.useState)([]),[e,o]=(0,H.useState)(!0),[r,a]=(0,H.useState)(!1),[i,s]=(0,H.useState)(""),[d,c]=(0,H.useState)([]),[l,p]=(0,H.useState)({show:!1,name:"",history:[],loading:!1}),[g,x]=(0,H.useState)({show:!1,message:""}),h=(0,H.useCallback)((function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;x({show:!0,message:n}),setTimeout((()=>{x({show:!1,message:""})}),t)}),[]),m=(0,H.useCallback)(((n,t)=>{if(0===d.length)return"-";const e=d.findIndex((n=>n.name===t));if(-1===e)return"-";const o=e+1;return n<o?"up":n>o?"down":"-"}),[d]),u=(0,H.useCallback)((async()=>{try{const t=await(0,G.cJ)();if(0===t.length)return[];const e=[];for(const o of t)try{const n=(0,I.H9)(M.db,"user_stats",o),t=await(0,I.x7)(n),r=t.exists()&&t.data().total||0;e.push({name:o,score:r})}catch(n){console.error("\ud559\uc0dd ".concat(o,"\uc758 \uc810\uc218 \uc870\ud68c \uc2e4\ud328:"),n),e.push({name:o,score:0})}return e.sort(((n,t)=>t.score-n.score)),e}catch(n){throw console.error("\ub7ad\ud0b9 \uacc4\uc0b0 \uc5d0\ub7ec:",n),n}}),[]),f=(0,H.useCallback)((async()=>{try{o(!0);const n=await u(),e=new Date,r=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],a="\uc9d1\uacc4 \uae30\uc900\uc77c: ".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")," (").concat(r[e.getDay()],") ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0"));s(a),c([]),t(n),o(!1)}catch(n){console.error("\ub7ad\ud0b9 \ub85c\ub4dc \uc5d0\ub7ec:",n),o(!1)}}),[u]),y=(0,H.useCallback)((async()=>{if(!r)try{a(!0);const e=await u(),o=new Date,r=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],i="\uc9d1\uacc4 \uae30\uc900\uc77c: ".concat(o.getFullYear(),"-").concat(String(o.getMonth()+1).padStart(2,"0"),"-").concat(String(o.getDate()).padStart(2,"0")," (").concat(r[o.getDay()],") ").concat(String(o.getHours()).padStart(2,"0"),":").concat(String(o.getMinutes()).padStart(2,"0"));s(i),c([...n]),t(e),h("\ub7ad\ud0b9\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(e){console.error("\ub7ad\ud0b9 \uc5c5\ub370\uc774\ud2b8 \uc5d0\ub7ec:",e),h("\ub7ad\ud0b9 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{a(!1)}}),[r,u,h,n]),b=(0,H.useCallback)((async n=>{p({show:!0,name:n,history:[],loading:!0});try{const t=(0,I.P)((0,I.rJ)(M.db,"talant_history"),(0,I._M)("name","==",n),(0,I.My)("receivedDate","desc"),(0,I.AB)(5));(0,I.aQ)(t,(n=>{if(n.empty)return void p((n=>(0,B.A)((0,B.A)({},n),{},{history:[],loading:!1})));const t=[];n.forEach((n=>{var e;const o=n.data(),r=(null===(e=o.receivedDate)||void 0===e?void 0:e.toDate())||new Date;t.push({date:"".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")),reason:o.reason||"\uc0ac\uc720 \uc5c6\uc74c",amount:o.talant||"0"})})),p((n=>(0,B.A)((0,B.A)({},n),{},{history:t,loading:!1})))}))}catch(t){console.error("\ub0b4\uc5ed \uc870\ud68c \uc5d0\ub7ec:",t),p((n=>(0,B.A)((0,B.A)({},n),{},{loading:!1}))),h("\ub0b4\uc5ed\uc744 \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}),[h]);return(0,H.useEffect)((()=>{f()}),[f]),(0,U.jsxs)(Q,{children:[(0,U.jsxs)(q,{children:[(0,U.jsx)(V,{children:"\ud83c\udfc6 \ub2ec\ub780\ud2b8 \ub7ad\ud0b9"}),(0,U.jsx)(R.mr,{children:"\uc8fc\uc77c\ud559\uad50 \ud559\uc0dd\ub4e4\uc758 \ub2ec\ub780\ud2b8 \uc810\uc218 \uc21c\uc704\ub97c \ud655\uc778\ud558\uc138\uc694"}),(0,U.jsx)(O,{children:(0,U.jsxs)(R._6,{onClick:y,disabled:r,children:[(0,U.jsx)("span",{className:"icon",children:"\ud83d\udd04"}),r?"\ub85c\ub529 \uc911...":"\ub7ad\ud0b9 \uc0c8\ub85c\uace0\uce68"]})}),i&&(0,U.jsx)(Z,{children:i})]}),(0,U.jsx)("div",{children:e?(0,U.jsxs)(mn,{children:[(0,U.jsx)("div",{className:"loading-icon",children:"\u23f3"}),"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."]}):0===n.length?(0,U.jsxs)(hn,{children:[(0,U.jsx)("div",{className:"empty-icon",children:"\ud83d\udcca"}),(0,U.jsx)("p",{children:"\ud45c\uc2dc\ud560 \ub7ad\ud0b9 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(nn,{children:(0,U.jsxs)(tn,{onClick:()=>b(n[0].name),children:[(0,U.jsx)(en,{children:"\ud83c\udfc6 1\ub4f1"}),(0,U.jsxs)(on,{children:[(0,U.jsx)("span",{className:"crown-icon",children:"\ud83d\udc51"}),(0,U.jsx)("span",{className:"name",children:n[0].name})]}),(0,U.jsxs)(rn,{children:[n[0].score.toLocaleString()," \ub2ec\ub780\ud2b8"]})]})}),n.length>1&&(0,U.jsxs)(an,{children:[(0,U.jsx)(sn,{children:(0,U.jsx)("h2",{children:"\ud83c\udfaf \uc804\uccb4 \uc21c\uc704"})}),(0,U.jsx)(dn,{children:n.slice(1).map(((n,t)=>{const e=t+2,o=m(e,n.name);return(0,U.jsxs)(cn,{children:[(0,U.jsx)(ln,{rank:e,children:e}),(0,U.jsx)(pn,{onClick:()=>b(n.name),children:n.name}),(0,U.jsx)(gn,{children:n.score.toLocaleString()}),(0,U.jsxs)(xn,{children:["up"===o&&(0,U.jsx)("span",{className:"up",children:"\u2191"}),"down"===o&&(0,U.jsx)("span",{className:"down",children:"\u2193"}),"-"===o&&"-"]})]},n.name)}))})]})]})}),(0,U.jsx)(un,{show:l.show,onClick:()=>p({show:!1,name:"",history:[],loading:!1}),children:(0,U.jsxs)(fn,{onClick:n=>n.stopPropagation(),children:[(0,U.jsx)(yn,{onClick:()=>p({show:!1,name:"",history:[],loading:!1}),children:"\xd7"}),(0,U.jsxs)("h3",{children:[l.name,"\ub2d8\uc758 \ub2ec\ub780\ud2b8 \ub0b4\uc5ed"]}),l.loading?(0,U.jsxs)(mn,{children:[(0,U.jsx)("div",{className:"loading-icon",children:"\u23f3"}),"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."]}):0===l.history.length?(0,U.jsxs)(hn,{children:[(0,U.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,U.jsx)("p",{children:"\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,U.jsx)(bn,{children:l.history.map(((n,t)=>(0,U.jsxs)(wn,{children:[(0,U.jsxs)("div",{className:"history-info",children:[(0,U.jsx)("div",{className:"history-date",children:n.date}),(0,U.jsx)("div",{className:"history-reason",children:n.reason})]}),(0,U.jsxs)("div",{className:"history-amount",children:["+",n.amount," \ub2ec\ub780\ud2b8"]})]},t)))})]})}),(0,U.jsx)(An,{$show:g.show,children:g.message})]})},kn=(0,H.memo)(vn)},8436:(n,t,e)=>{e.d(t,{JC:()=>g,LP:()=>c,P0:()=>x,XV:()=>i,Yq:()=>l,cJ:()=>s,fU:()=>p,jw:()=>d,sp:()=>a});var o=e(6220),r=e(5299);const a=[{reason:"\ucd9c\uc11d",value:3,emoji:"\u2705"},{reason:"\uc624\ud6c4\ucd9c\uc11d",value:3,emoji:"\ud83c\udf05"},{reason:"\ubb38\ud654\uad50\uc2e4",value:3,emoji:"\ud83c\udfa8"},{reason:"\ub9d0\uc500\uc554\uc1a1",value:1,emoji:"\ud83d\udcd6"},{reason:"\uc131\uacbd\uc77d\uae30",value:1,emoji:"\ud83d\udcda"},{reason:"\uae30\ub3c4\ubb38\uae30\ub3c4",value:5,emoji:"\ud83d\ude4f"},{reason:"\uc190\uac00\ub77d\uae30\ub3c4",value:10,emoji:"\ud83d\udc4b"}],i=["\uc784\ub3d9\ud558","\uc7a5\uc9c0\ubbfc","\ud669\ud76c","\uae40\uc885\uc9c4","\ubc29\uc2dc\uc628","\uc815\uc608\ub2f4","\ubc29\uc628\uc720","\uc815\uc608\uc900"],s=async()=>{try{const n=(0,o.P)((0,o.rJ)(r.db,"user_stats")),t=await(0,o.GG)(n);if(t.empty){const n=i;for(const t of n)await(0,o.BN)((0,o.H9)(r.db,"user_stats",t),{total:0,createdAt:o.Dc.now()});return n.sort()}return t.docs.map((n=>n.id)).sort()}catch(n){return console.error("\ud559\uc0dd \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",n),i}},d=async n=>{try{const t=(0,o.H9)(r.db,"user_stats",n);if((await(0,o.x7)(t)).exists())throw new Error("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud559\uc0dd\uc785\ub2c8\ub2e4.");return await(0,o.BN)(t,{total:0,createdAt:o.Dc.now()}),!0}catch(t){throw console.error("\ud559\uc0dd \ucd94\uac00 \uc2e4\ud328:",t),t}},c=async n=>{try{const t=(0,o.P)((0,o.rJ)(r.db,"talant_history"),(0,o._M)("name","==",n)),e=await(0,o.GG)(t),a=500,i=[];let s=(0,o.wP)(r.db),d=0;e.forEach((n=>{d>=a&&(i.push(s),s=(0,o.wP)(r.db),d=0),s.delete(n.ref),d++})),d>0&&i.push(s);for(const n of i)await n.commit();const c=(0,o.H9)(r.db,"user_stats",n);return await(0,o.kd)(c),!0}catch(t){throw console.error("\ud559\uc0dd \uc0ad\uc81c \uc2e4\ud328:",t),t}},l=n=>n?n.toDate?n.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"string"===typeof n?new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):n.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",p=n=>{if(!n)return"";return(n.toDate?n.toDate():new Date(n)).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})},g=n=>{const t=new Set;return n.forEach((n=>{const e=n.date.toDate?n.date.toDate():new Date(n.date),o="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"));t.add(o)})),Array.from(t).sort().reverse()},x=function(n,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;n({show:!0,message:t}),setTimeout((()=>{n({show:!1,message:""})}),e)}}}]);