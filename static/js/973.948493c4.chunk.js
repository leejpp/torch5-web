"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[973],{436:(n,e,t)=>{t.d(e,{Kw:()=>Y,PC:()=>j,V:()=>D,Vt:()=>S,Z:()=>k,jn:()=>z,kt:()=>E,qG:()=>A,sT:()=>F,tA:()=>C,tE:()=>y});var a,o,r,i,s,d,c,l,p,x,g,h,u,m,b,f=t(7528),w=t(4752);const y=(0,w.i7)(a||(a=(0,f.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),A=(0,w.i7)(o||(o=(0,f.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),v=(0,w.i7)(r||(r=(0,f.A)(["\n  to { transform: rotate(360deg); }\n"]))),j=w.Ay.div(i||(i=(0,f.A)(["\n  min-height: 100vh;\n  background: #FAFAFC;\n  font-family: 'Pretendard', 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif;\n  color: #222;\n"]))),k=w.Ay.div(s||(s=(0,f.A)(["\n  position: sticky;\n  top: 0;\n  background: white;\n  padding: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  z-index: 100;\n"]))),D=w.Ay.div(d||(d=(0,f.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),S=w.Ay.div(c||(c=(0,f.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n  }\n"]))),z=w.Ay.button(l||(l=(0,f.A)(["\n  background: #3182F6;\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #2B6CB0;\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),C=(0,w.Ay)(z)(p||(p=(0,f.A)(["\n  background: #10B981;\n  \n  &:hover {\n    background: #059669;\n  }\n"]))),F=((0,w.Ay)(z)(x||(x=(0,f.A)(["\n  background: #7C3AED;\n  \n  &:hover {\n    background: #6D28D9;\n  }\n"]))),w.Ay.h1(g||(g=(0,f.A)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n"])))),E=(w.Ay.div(h||(h=(0,f.A)(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  transition: all 0.2s ease;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  animation: "," 0.8s ease-out ","s both;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n"])),y,(n=>n.delay||0)),w.Ay.div(u||(u=(0,f.A)(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-top: 2px solid white;\n  border-radius: 50%;\n  animation: "," 1s linear infinite;\n"])),v)),Y=(w.Ay.div(m||(m=(0,f.A)(["\n  background: rgba(16, 185, 129, 0.1);\n  border-radius: 10px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #10B981;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n  margin-top: 12px;\n  animation: "," 0.5s ease-out;\n"])),y),w.Ay.div(b||(b=(0,f.A)(["\n  background: rgba(239, 68, 68, 0.1);\n  border-radius: 10px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #EF4444;\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  margin-top: 12px;\n  animation: "," 0.5s ease-out;\n"])),y))},9973:(n,e,t)=>{t.r(e),t.d(e,{default:()=>En});var a,o,r,i,s,d,c,l,p,x,g,h,u,m,b,f,w,y,A,v,j,k,D,S,z,C,F,E,Y,_,B,N,M,P,R=t(7528),I=t(9950),G=t(8429),J=t(4752),K=t(6220),H=t(5299),L=t(6393),T=t(436),V=t(8436),$=t(4414);const q=(0,J.i7)(a||(a=(0,R.A)(["\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n"]))),X=(0,J.i7)(o||(o=(0,R.A)(["\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n"]))),Z=((0,J.i7)(r||(r=(0,R.A)(["\n  0% { background-position: -200px 0; }\n  100% { background-position: calc(200px + 100%) 0; }\n"]))),(0,J.i7)(i||(i=(0,R.A)(["\n  from { transform: translateX(-100%); opacity: 0; }\n  to { transform: translateX(0); opacity: 1; }\n"])))),W=J.Ay.div(s||(s=(0,R.A)(["\n  display: flex;\n  gap: 8px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 4px;\n  }\n"]))),U=J.Ay.button(d||(d=(0,R.A)(["\n  background: #3182F6;\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex: 1;\n  \n  &:hover {\n    background: #2B6CB0;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 12px 16px;\n    min-height: 44px;\n  }\n"]))),O=J.Ay.button(c||(c=(0,R.A)(["\n  background: #7C3AED;\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex: 1;\n  \n  &:hover {\n    background: #6D28D9;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 12px 16px;\n    min-height: 44px;\n  }\n"]))),Q=J.Ay.h1(l||(l=(0,R.A)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  \n  @media (max-width: 768px) {\n    text-align: center;\n    order: -1; /* \ubaa8\ubc14\uc77c\uc5d0\uc11c \uc81c\ubaa9\uc744 \ub9e8 \uc704\ub85c */\n  }\n"]))),nn=J.Ay.button(p||(p=(0,R.A)(["\n  background: #10B981;\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  \n  &:hover {\n    background: #059669;\n  }\n  \n  @media (max-width: 768px) {\n    justify-content: center;\n    padding: 12px 16px;\n  }\n"]))),en=J.Ay.button(x||(x=(0,R.A)(["\n  display: none;\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  color: ",";\n  padding: "," ",";\n  border-radius: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n  transition: ",";\n  margin-bottom: ",";\n  width: 100%;\n\n  &:hover {\n    background: rgba(59, 130, 246, 0.15);\n  }\n\n  @media (max-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: ",";\n  }\n"])),L.w.colors.neutral[1],L.w.spacing.sm,L.w.spacing.md,L.w.borderRadius.lg,L.w.typography.fontSize.sm,L.w.typography.fontWeight.semibold,L.w.transitions.default,L.w.spacing.md,L.w.spacing.xs),tn=J.Ay.div(g||(g=(0,R.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: ",";\n  margin-bottom: ",";\n\n  @media (max-width: 768px) {\n    display: ",";\n    grid-template-columns: 1fr;\n    gap: ",";\n    background: rgba(248, 250, 252, 0.8);\n    padding: ",";\n    border-radius: ",";\n    border: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"])),L.w.spacing.md,L.w.spacing.md,(n=>n.$show?"grid":"none"),L.w.spacing.sm,L.w.spacing.md,L.w.borderRadius.lg),an=J.Ay.div(h||(h=(0,R.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: ",";\n\n  @media (max-width: 768px) {\n    gap: 4px;\n  }\n"])),L.w.spacing.xs),on=J.Ay.label(u||(u=(0,R.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: ",";\n\n  @media (max-width: 768px) {\n    font-size: ",";\n    margin-bottom: 2px;\n  }\n"])),L.w.colors.neutral[1],L.w.typography.fontSize.sm,L.w.typography.fontWeight.semibold,L.w.spacing.xs,L.w.typography.fontSize.xs),rn=J.Ay.select(m||(m=(0,R.A)(["\n  padding: ",";\n  border: 2px solid rgba(59, 130, 246, 0.2);\n  border-radius: ",";\n  font-size: ",";\n  width: 100%;\n  font-family: ",";\n  outline: none;\n  transition: ",";\n  background: white;\n  color: ",";\n\n  &:focus {\n    border-color: #3B82F6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n  \n  @media (max-width: 768px) {\n    padding: ",";\n    font-size: ",";\n    border-width: 1px;\n  }\n"])),L.w.spacing.md,L.w.borderRadius.lg,L.w.typography.fontSize.base,L.w.typography.fontFamily,L.w.transitions.default,L.w.colors.neutral[1],L.w.spacing.sm,L.w.typography.fontSize.sm),sn=J.Ay.input(b||(b=(0,R.A)(["\n  padding: ",";\n  border: 2px solid rgba(59, 130, 246, 0.2);\n  border-radius: ",";\n  font-size: ",";\n  width: 100%;\n  font-family: ",";\n  outline: none;\n  transition: ",";\n  background: white;\n  color: ",";\n\n  &:focus {\n    border-color: #3B82F6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n  \n  @media (max-width: 768px) {\n    padding: ",";\n    font-size: ",";\n    border-width: 1px;\n  }\n"])),L.w.spacing.md,L.w.borderRadius.lg,L.w.typography.fontSize.base,L.w.typography.fontFamily,L.w.transitions.default,L.w.colors.neutral[1],L.w.spacing.sm,L.w.typography.fontSize.sm),dn=J.Ay.div(f||(f=(0,R.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  align-items: center;\n  padding-top: 6px;\n  margin-top: 6px;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n"]))),cn=J.Ay.div(w||(w=(0,R.A)(["\n  background: linear-gradient(135deg, "," 0%, #9F77FF 100%);\n  color: white;\n  padding: 2px 6px;\n  border-radius: ",";\n  font-size: ",";\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  animation: "," 0.3s ease-out;\n\n  .remove {\n    cursor: pointer;\n    background: rgba(255, 255, 255, 0.2);\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 9px;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: rgba(255, 255, 255, 0.3);\n    }\n  }\n"])),L.w.colors.primary,L.w.borderRadius.full,L.w.typography.fontSize.xs,Z),ln=J.Ay.button(y||(y=(0,R.A)(["\n  background: transparent;\n  border: 1px solid ",";\n  color: ",";\n  padding: 2px 6px;\n  border-radius: ",";\n  font-size: ",";\n  cursor: pointer;\n  transition: ",";\n\n  &:hover {\n    background: ",";\n    color: white;\n  }\n"])),L.w.colors.error,L.w.colors.error,L.w.borderRadius.sm,L.w.typography.fontSize.xs,L.w.transitions.default,L.w.colors.error),pn=J.Ay.div(A||(A=(0,R.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: ",";\n  \n  @media (max-width: 480px) {\n    padding: ",";\n  }\n"])),L.w.spacing.lg,L.w.spacing.md),xn=J.Ay.div(v||(v=(0,R.A)(["\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),gn=J.Ay.h2(j||(j=(0,R.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin: 0;\n"])),L.w.colors.neutral[1],L.w.typography.fontSize.xl,L.w.typography.fontWeight.bold),hn=J.Ay.div(k||(k=(0,R.A)(["\n  margin-bottom: 24px;\n"]))),un=J.Ay.div(D||(D=(0,R.A)(["\n  font-size: 16px;\n  font-weight: 600;\n  color: #4B5563;\n  margin-bottom: 8px;\n  padding: 0 16px;\n"]))),mn=J.Ay.div(S||(S=(0,R.A)(["\n  background: white;\n  border-radius: 12px;\n  padding: 16px;\n  margin: 0 16px 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  transition: all 0.2s ease;\n  position: relative;\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n"]))),bn=J.Ay.div(z||(z=(0,R.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 8px;\n"]))),fn=J.Ay.div(C||(C=(0,R.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n"]))),wn=J.Ay.div(F||(F=(0,R.A)(["\n  font-size: 16px;\n  font-weight: 700;\n  color: #222;\n"]))),yn=J.Ay.div(E||(E=(0,R.A)(["\n  background: none;\n  color: #333;\n  font-size: 15px;\n  font-weight: 500;\n  margin-top: 2px;\n  word-break: break-all;\n"]))),An=J.Ay.div(Y||(Y=(0,R.A)(["\n  font-size: 22px;\n  font-weight: 800;\n  color: #3182F6;\n  min-width: 48px;\n  text-align: right;\n"]))),vn=J.Ay.div(_||(_=(0,R.A)(["\n  font-size: 12px;\n  color: #A0AEC0;\n  margin-top: 10px;\n  text-align: left;\n"]))),jn=J.Ay.button(B||(B=(0,R.A)(["\n  background: transparent;\n  border: none;\n  padding: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  color: #E5E7EB;\n  transition: all 0.2s ease;\n  position: absolute;\n  bottom: 12px;\n  right: 12px;\n  border-radius: 4px;\n  \n  &:hover {\n    color: #EF4444;\n    background: rgba(239, 68, 68, 0.1);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),kn=J.Ay.div(N||(N=(0,R.A)(["\n  text-align: center;\n  padding: 60px 20px;\n  color: ",";\n  animation: "," 0.8s ease-out;\n\n  .empty-icon {\n    font-size: 4rem;\n    margin-bottom: 20px;\n    animation: "," 3s ease-in-out infinite;\n  }\n\n  p {\n    font-size: ",";\n    margin: 0;\n  }\n"])),L.w.colors.neutral[3],T.qG,q,L.w.typography.fontSize.base),Dn=J.Ay.div(M||(M=(0,R.A)(["\n  text-align: center;\n  padding: 40px;\n  color: ",";\n  font-size: ",";\n  \n  .loading-icon {\n    font-size: 2rem;\n    margin-bottom: 15px;\n    animation: "," 1.5s ease-in-out infinite;\n  }\n"])),L.w.colors.neutral[3],L.w.typography.fontSize.base,X),Sn=J.Ay.div(P||(P=(0,R.A)(["\n  position: fixed;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-50%) translateY(",");\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: ",";\n  padding: 16px 24px;\n  border-radius: ",";\n  color: ",";\n  font-size: ",";\n  z-index: 1001;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(20px);\n  opacity: ",";\n"])),(n=>n.$show?"0":"100px"),L.w.shadows.xl,L.w.borderRadius.lg,L.w.colors.neutral[1],L.w.typography.fontSize.base,(n=>n.$show?1:0)),zn=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],Cn=n=>{if(!n)return new Date;if("function"===typeof n.toDate)return n.toDate();if(n instanceof Date)return n;if("string"===typeof n){const e=n.match(/(\d{4})\ub144\s*(\d{1,2})\uc6d4\s*(\d{1,2})\uc77c\s*(\uc624\uc804|\uc624\ud6c4)?\s*(\d{1,2})\uc2dc\s*(\d{1,2})\ubd84/);if(e){const[,n,t,a,o,r,i]=e;let s=parseInt(r);return"\uc624\ud6c4"===o&&12!==s?s+=12:"\uc624\uc804"===o&&12===s&&(s=0),new Date(parseInt(n),parseInt(t)-1,parseInt(a),s,parseInt(i),0)}const t=new Date(n);return isNaN(t.getTime())?new Date:t}return new Date},Fn=()=>{const n=(0,G.Zp)(),[e,t]=(0,I.useState)([]),[a,o]=(0,I.useState)([]),[r,i]=(0,I.useState)(!0),[s,d]=(0,I.useState)(""),[c,l]=(0,I.useState)("month"),[p,x]=(0,I.useState)(""),[g,h]=(0,I.useState)(""),[u,m]=(0,I.useState)([]),[b,f]=(0,I.useState)([]),[w,y]=(0,I.useState)({show:!1,message:""}),[A,v]=(0,I.useState)(new Set),[j,k]=(0,I.useState)(!1),D=(0,I.useCallback)((function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;(0,V.P0)(y,n,e)}),[]);(0,I.useEffect)((()=>{(async()=>{try{const n=(0,K.P)((0,K.rJ)(H.db,"talant_history"),(0,K.My)("receivedDate","desc")),e=(await(0,K.GG)(n)).docs.map((n=>{const e=n.data();return{date:Cn(e.receivedDate),name:e.name||""}})),t=(0,V.JC)(e);m(t);const a=[...new Set(e.map((n=>n.name)).filter((n=>n)))];f(a.sort());const o=new Date,r="".concat(o.getFullYear(),"-").concat(String(o.getMonth()+1).padStart(2,"0"));x(r)}catch(n){console.error("Error loading available months:",n)}})()}),[]),(0,I.useEffect)((()=>{let n;if(i(!0),p){const[e,t]=p.split("-").map(Number),a=new Date(e,t-1,1),o=new Date(e,t,0,23,59,59);n=(0,K.P)((0,K.rJ)(H.db,"talant_history"),(0,K._M)("receivedDate",">=",K.Dc.fromDate(a)),(0,K._M)("receivedDate","<=",K.Dc.fromDate(o)),(0,K.My)("receivedDate","desc"))}else n=(0,K.P)((0,K.rJ)(H.db,"talant_history"),(0,K.My)("receivedDate","desc"),(0,K.AB)(100));const e=(0,K.aQ)(n,(n=>{const e=n.docs.map((n=>{const e=n.data(),t=Cn(e.receivedDate),a=Cn(e.createdAt);return{id:n.id,name:e.name||"",reason:e.reason||"",talant:e.talant||"0",receivedDate:t,createdAt:a}}));e.sort(((n,e)=>{const t=e.receivedDate-n.receivedDate;return 0!==t?t:e.createdAt-n.createdAt})),t(e),i(!1)}),(n=>{console.error("Error loading history:",n),D("\ub370\uc774\ud130 \ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),i(!1)}));return()=>e()}),[p,D]),(0,I.useEffect)((()=>{let n=[...e];s&&(n=n.filter((n=>n.name===s))),"specific"===c&&g&&(n=n.filter((n=>{const e=n.receivedDate;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))===g}))),o(n)}),[e,s,c,g]);const S=(0,I.useCallback)((async(n,e)=>{try{const t=(0,K.H9)(H.db,"user_stats",n),a=await(0,K.x7)(t);if(a.exists()){const n=a.data().total||0;await(0,K.mZ)(t,{total:n+e})}else await(0,K.BN)(t,{total:e})}catch(t){console.error("user_stats \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",t)}}),[]),z=(0,I.useCallback)((async n=>{if(window.confirm("\uc815\ub9d0\ub85c \uc774 \uae30\ub85d\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){v((e=>new Set([...e,n])));try{const e=(0,K.H9)(H.db,"talant_history",n),t=await(0,K.x7)(e);if(t.exists()){const n=t.data(),a=n.name,o=parseInt(n.talant)||0;await(0,K.kd)(e),await S(a,-o),D("\uae30\ub85d\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}catch(e){console.error("Error deleting:",e),D("\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{v((e=>{const t=new Set(e);return t.delete(n),t}))}}}),[D,S]),C=n=>{switch(n){case"name":d(""),D("\uc774\ub984 \ud544\ud130\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");break;case"month":x(""),D("\uae30\uac04 \ud544\ud130\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");break;case"specific":h(""),D("\ub0a0\uc9dc \ud544\ud130\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}},F=(0,I.useMemo)((()=>(n=>{const e={};return n.forEach((n=>{const t=n.receivedDate;if(!t||isNaN(t.getTime()))return void console.warn("Invalid date found in history item:",n);const a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"));e[a]||(e[a]=[]),e[a].push(n)})),Object.keys(e).map((n=>{const[t,a,o]=n.split("-"),r=new Date(parseInt(t),parseInt(a)-1,parseInt(o)),i="".concat(r.getFullYear(),"\ub144 ").concat(r.getMonth()+1,"\uc6d4 ").concat(r.getDate(),"\uc77c (").concat(zn[r.getDay()],")");return{date:r,displayDate:i,items:e[n].sort(((n,e)=>e.createdAt-n.createdAt))}})).sort(((n,e)=>e.date-n.date))})(a)),[a]),E=(0,I.useMemo)((()=>s||p||g),[s,p,g]),Y=(0,I.useCallback)((n=>{d(n.target.value)}),[]),_=(0,I.useCallback)((n=>{l(n.target.value)}),[]),B=(0,I.useCallback)((n=>{x(n.target.value)}),[]),N=(0,I.useCallback)((n=>{h(n.target.value)}),[]),M=(0,I.useCallback)((()=>{k(!j)}),[j]),P=(0,I.useCallback)((()=>{n("/talant/input")}),[n]),R=(0,I.useCallback)((()=>{n("/talant")}),[n]);return(0,$.jsxs)(T.PC,{children:[(0,$.jsx)(T.Z,{children:(0,$.jsxs)(T.V,{children:[(0,$.jsxs)(T.Vt,{children:[(0,$.jsxs)(W,{children:[(0,$.jsx)(U,{onClick:R,children:"\u2190 \ub300\uc2dc\ubcf4\ub4dc"}),(0,$.jsx)(O,{onClick:()=>n("/talant/board"),children:"\ud83d\udcca \ud604\ud669\ud310"})]}),(0,$.jsx)(Q,{children:"\ub2ec\ub780\ud2b8 \ub0b4\uc5ed"}),(0,$.jsxs)(nn,{onClick:P,children:[(0,$.jsx)("span",{children:"\ub2ec\ub780\ud2b8 \uc785\ub825"}),(0,$.jsx)("span",{children:"\ud83d\udccb"})]})]}),(0,$.jsxs)(en,{onClick:M,children:[(0,$.jsx)("span",{children:"\ud544\ud130"}),(0,$.jsx)("span",{children:j?"\uc228\uae30\uae30":"\ubcf4\uae30"}),(0,$.jsx)("span",{children:j?"\u25b2":"\u25bc"})]}),(0,$.jsxs)(tn,{$show:j,children:[(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"\uc774\ub984"}),(0,$.jsxs)(rn,{value:s,onChange:Y,children:[(0,$.jsx)("option",{value:"",children:"\uc804\uccb4 \uc774\ub984"}),b.map((n=>(0,$.jsx)("option",{value:n,children:n},n)))]})]}),(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"\uae30\uac04 \ud544\ud130"}),(0,$.jsxs)(rn,{value:c,onChange:_,children:[(0,$.jsx)("option",{value:"month",children:"\uc6d4\ubcc4"}),(0,$.jsx)("option",{value:"specific",children:"\ud2b9\uc815 \ub0a0\uc9dc"})]})]}),"month"===c&&(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"\uc6d4 \uc120\ud0dd"}),(0,$.jsxs)(rn,{value:p,onChange:B,children:[(0,$.jsx)("option",{value:"",children:"\ucd5c\uadfc 100\uac1c"}),u.map((n=>{const[e,t]=n.split("-"),a="".concat(e,"\ub144 ").concat(parseInt(t),"\uc6d4");return(0,$.jsx)("option",{value:n,children:a},n)}))]})]}),"specific"===c&&(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"\ub0a0\uc9dc \uc120\ud0dd"}),(0,$.jsx)(sn,{type:"date",value:g,onChange:N})]})]}),E&&(0,$.jsxs)(dn,{children:[s&&(0,$.jsxs)(cn,{children:["\uc774\ub984: ",s,(0,$.jsx)("span",{className:"remove",onClick:()=>C("name"),children:"\xd7"})]}),p&&(0,$.jsxs)(cn,{children:["\uc6d4: ",p,(0,$.jsx)("span",{className:"remove",onClick:()=>C("month"),children:"\xd7"})]}),g&&(0,$.jsxs)(cn,{children:["\ub0a0\uc9dc: ",g,(0,$.jsx)("span",{className:"remove",onClick:()=>C("specific"),children:"\xd7"})]}),(0,$.jsx)(ln,{onClick:()=>{d(""),x(""),h(""),D("\ubaa8\ub4e0 \ud544\ud130\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},children:"\uc804\uccb4 \ud544\ud130 \uc81c\uac70"})]})]})}),(0,$.jsxs)(pn,{children:[r?(0,$.jsxs)(Dn,{children:[(0,$.jsx)("div",{className:"loading-icon",children:"\u23f3"}),"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."]}):0===F.length?(0,$.jsxs)(kn,{children:[(0,$.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,$.jsx)("p",{children:"\ud45c\uc2dc\ud560 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(xn,{children:(0,$.jsx)(gn,{children:p?"".concat(p," \ub0b4\uc5ed (").concat(a.length,"\uac1c)"):E?"\ud544\ud130\ub9c1\ub41c \ub0b4\uc5ed (".concat(a.length,"\uac1c)"):"\ucd5c\uadfc \ub0b4\uc5ed (".concat(e.length,"\uac1c)")})}),F.map(((n,e)=>(0,$.jsxs)(hn,{children:[(0,$.jsx)(un,{children:n.displayDate}),n.items.map((n=>(0,$.jsxs)(mn,{children:[(0,$.jsxs)(bn,{children:[(0,$.jsxs)(fn,{children:[(0,$.jsx)(wn,{children:n.name}),(0,$.jsx)(yn,{children:n.reason})]}),(0,$.jsxs)(An,{children:["+",n.talant]})]}),(0,$.jsxs)(vn,{children:["\uc785\ub825: ",(0,V.Yq)(n.createdAt)," ",(0,V.fU)(n.createdAt)]}),(0,$.jsx)(jn,{onClick:()=>z(n.id),disabled:A.has(n.id),children:A.has(n.id)?"\u23f3":"\ud83d\uddd1\ufe0f"})]},n.id)))]},e)))]}),(0,$.jsx)(Sn,{$show:w.show,children:w.message})]})]})},En=(0,I.memo)(Fn)},8436:(n,e,t)=>{t.d(e,{JC:()=>x,LP:()=>c,P0:()=>g,XV:()=>i,Yq:()=>l,cJ:()=>s,fU:()=>p,jw:()=>d,sp:()=>r});var a=t(6220),o=t(5299);const r=[{reason:"\ucd9c\uc11d",value:3,emoji:"\u2705"},{reason:"\uc624\ud6c4\ucd9c\uc11d",value:3,emoji:"\ud83c\udf05"},{reason:"\ubb38\ud654\uad50\uc2e4",value:3,emoji:"\ud83c\udfa8"},{reason:"\ub9d0\uc500\uc554\uc1a1",value:1,emoji:"\ud83d\udcd6"},{reason:"\uc131\uacbd\uc77d\uae30",value:1,emoji:"\ud83d\udcda"},{reason:"\uae30\ub3c4\ubb38\uae30\ub3c4",value:5,emoji:"\ud83d\ude4f"},{reason:"\uc190\uac00\ub77d\uae30\ub3c4",value:10,emoji:"\ud83d\udc4b"}],i=["\uc784\ub3d9\ud558","\uc7a5\uc9c0\ubbfc","\ud669\ud76c","\uae40\uc885\uc9c4","\ubc29\uc2dc\uc628","\uc815\uc608\ub2f4","\ubc29\uc628\uc720","\uc815\uc608\uc900"],s=async()=>{try{const n=(0,a.P)((0,a.rJ)(o.db,"user_stats")),e=await(0,a.GG)(n);if(e.empty){const n=i;for(const e of n)await(0,a.BN)((0,a.H9)(o.db,"user_stats",e),{total:0,createdAt:a.Dc.now()});return n.sort()}return e.docs.map((n=>n.id)).sort()}catch(n){return console.error("\ud559\uc0dd \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",n),i}},d=async n=>{try{const e=(0,a.H9)(o.db,"user_stats",n);if((await(0,a.x7)(e)).exists())throw new Error("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud559\uc0dd\uc785\ub2c8\ub2e4.");return await(0,a.BN)(e,{total:0,createdAt:a.Dc.now()}),!0}catch(e){throw console.error("\ud559\uc0dd \ucd94\uac00 \uc2e4\ud328:",e),e}},c=async n=>{try{const e=(0,a.P)((0,a.rJ)(o.db,"talant_history"),(0,a._M)("name","==",n)),t=await(0,a.GG)(e),r=500,i=[];let s=(0,a.wP)(o.db),d=0;t.forEach((n=>{d>=r&&(i.push(s),s=(0,a.wP)(o.db),d=0),s.delete(n.ref),d++})),d>0&&i.push(s);for(const n of i)await n.commit();const c=(0,a.H9)(o.db,"user_stats",n);return await(0,a.kd)(c),!0}catch(e){throw console.error("\ud559\uc0dd \uc0ad\uc81c \uc2e4\ud328:",e),e}},l=n=>n?n.toDate?n.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"string"===typeof n?new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):n.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",p=n=>{if(!n)return"";return(n.toDate?n.toDate():new Date(n)).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})},x=n=>{const e=new Set;return n.forEach((n=>{const t=n.date.toDate?n.date.toDate():new Date(n.date),a="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));e.add(a)})),Array.from(e).sort().reverse()},g=function(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;n({show:!0,message:e}),setTimeout((()=>{n({show:!1,message:""})}),t)}}}]);