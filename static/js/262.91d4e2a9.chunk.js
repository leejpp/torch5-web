"use strict";(self.webpackChunktogy_web=self.webpackChunktogy_web||[]).push([[262],{1774:(n,e,t)=>{t.r(e),t.d(e,{default:()=>me});var r,o,a,i,l,d,s,c,p,g,b,h,x,m,u,f,y,A,w,v,k,j,F,z,C,Y,M,E,D,S,I,K,T,B,G,O,_,L,H,P,U,R,V,$,q,W,N,J,X,Z,Q,nn,en,tn=t(7528),rn=t(9379),on=t(9950),an=t(6209),ln=t(4133),dn=t(6054),sn=t(59),cn=t(3242),pn=(t(7607),t(8906)),gn=t(4752),bn=t(5299),hn=t(6220),xn=t(5949),mn=t(4414);const un={ko:pn.A},fn=(0,an.Hz)({format:ln.Ay,parse:dn.Ay,startOfWeek:sn.A,getDay:cn.A,locales:un}),yn="NONE",An="YEARLY",wn={DEFAULT:{label:"\uae30\ubcf8",bgColor:"#FFB6C1",color:"white"},BIRTHDAY:{label:"\uc0dd\uc77c",bgColor:"#E6E6FA",color:"#6A5ACD"},MEETING:{label:"\ubaa8\uc784",bgColor:"#E0F4FF",color:"#0066FF"},ACTIVITY:{label:"\ud65c\ub3d9",bgColor:"#E8F5E9",color:"#2E7D32"},EVENT:{label:"\ud589\uc0ac",bgColor:"#FFF3CD",color:"#856404"},HOLIDAY:{label:"\uacf5\ud734\uc77c",bgColor:"#FFEBEE",color:"#D32F2F"}},vn=(0,gn.i7)(a||(a=(0,tn.A)(["\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),kn=((0,gn.i7)(i||(i=(0,tn.A)(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),(0,gn.i7)(l||(l=(0,tn.A)(["\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-10px);\n  }\n"])))),jn=((0,gn.i7)(d||(d=(0,tn.A)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]))),(0,gn.i7)(s||(s=(0,tn.A)(["\n  from {\n    transform: translateY(100px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n"]))),gn.Ay.div(c||(c=(0,tn.A)(["\n  min-height: 100vh;\n  position: relative;\n  overflow-x: hidden;\n"])))),Fn=gn.Ay.div(p||(p=(0,tn.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  z-index: -2;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: \n      radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),\n      radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),\n      radial-gradient(circle at 40% 60%, rgba(236, 72, 153, 0.03) 0%, transparent 50%);\n  }\n"]))),zn=gn.Ay.header(g||(g=(0,tn.A)(["\n  background: ",";\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: \n      radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),\n      radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);\n  }\n"])),xn.Tj.gradients.accent),Cn=gn.Ay.div(b||(b=(0,tn.A)(["\n  position: relative;\n  padding: "," "," ",";\n  text-align: center;\n  max-width: 1200px;\n  margin: 0 auto;\n  \n  "," {\n    padding: "," "," ",";\n  }\n"])),xn.YK["4xl"],xn.YK["2xl"],xn.YK["3xl"],xn.$_["max-md"],xn.YK["3xl"],xn.YK.lg,xn.YK["2xl"]),Yn=gn.Ay.div(h||(h=(0,tn.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: ",";\n  background: rgba(255, 255, 255, 0.2);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: ",";\n  padding: "," ",";\n  margin-bottom: ",";\n  animation: "," 0.8s ease-out;\n"])),xn.YK.sm,xn.Vq.full,xn.YK.sm,xn.YK.lg,xn.YK.xl,vn),Mn=gn.Ay.span(x||(x=(0,tn.A)(["\n  font-size: ",";\n"])),xn.Il.fontSize.lg),En=gn.Ay.span(m||(m=(0,tn.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n"])),xn.Il.fontSize.sm,xn.Il.fontWeight.semibold),Dn=gn.Ay.div(u||(u=(0,tn.A)(["\n  margin-bottom: ",";\n"])),xn.YK.xl),Sn=gn.Ay.div(f||(f=(0,tn.A)(["\n  font-size: ",";\n  margin-bottom: ",";\n  animation: "," 3s ease-in-out infinite, "," 0.8s ease-out 0.2s both;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n  \n  "," {\n    font-size: ",";\n  }\n"])),xn.Il.fontSize["4xl"],xn.YK.lg,kn,vn,xn.$_["max-md"],xn.Il.fontSize["3xl"]),In=gn.Ay.h1(y||(y=(0,tn.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: ",";\n  font-family: ",";\n  animation: "," 0.8s ease-out 0.4s both;\n  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  \n  "," {\n    font-size: ",";\n  }\n"])),xn.Il.fontSize["4xl"],xn.Il.fontWeight.extrabold,xn.YK.sm,xn.Il.fontFamily.heading,vn,xn.$_["max-md"],xn.Il.fontSize["2xl"]),Kn=gn.Ay.p(A||(A=(0,tn.A)(["\n  color: rgba(255, 255, 255, 0.9);\n  font-size: ",";\n  font-weight: ",";\n  animation: "," 0.8s ease-out 0.6s both;\n  \n  "," {\n    font-size: ",";\n  }\n"])),xn.Il.fontSize.xl,xn.Il.fontWeight.medium,vn,xn.$_["max-md"],xn.Il.fontSize.lg),Tn=gn.Ay.div(w||(w=(0,tn.A)(["\n  color: rgba(255, 255, 255, 0.95);\n  font-size: ",";\n  font-weight: ",";\n  margin-top: ",";\n  text-align: center;\n  background: rgba(255, 255, 255, 0.1);\n  padding: "," ",";\n  border-radius: ",";\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: "," 0.8s ease-out 0.7s both;\n  \n  "," {\n    font-size: ",";\n    padding: "," ",";\n  }\n"])),xn.Il.fontSize.lg,xn.Il.fontWeight.bold,xn.YK.sm,xn.YK.sm,xn.YK.md,xn.Vq.lg,vn,xn.$_["max-md"],xn.Il.fontSize.base,xn.YK.xs,xn.YK.sm),Bn=gn.Ay.div(v||(v=(0,tn.A)(["\n  display: inline-flex;\n  align-items: center;\n  gap: ",";\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  border-radius: ",";\n  padding: "," ",";\n  animation: "," 0.8s ease-out 0.8s both;\n  \n  "," {\n    padding: "," ",";\n  }\n"])),xn.YK.sm,xn.Vq.xl,xn.YK.lg,xn.YK.xl,vn,xn.$_["max-md"],xn.YK.md,xn.YK.lg),Gn=gn.Ay.span(k||(k=(0,tn.A)(["\n  font-size: ",";\n"])),xn.Il.fontSize.lg),On=gn.Ay.span(j||(j=(0,tn.A)(["\n  color: white;\n  font-size: ",";\n  font-weight: ",";\n  \n  "," {\n    font-size: ",";\n  }\n"])),xn.Il.fontSize.base,xn.Il.fontWeight.medium,xn.$_["max-md"],xn.Il.fontSize.sm),_n=gn.Ay.main(F||(F=(0,tn.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: "," ",";\n  \n  "," {\n    padding: "," ",";\n  }\n"])),xn.YK["3xl"],xn.YK.lg,xn.$_["max-md"],xn.YK["2xl"],xn.YK.md),Ln=gn.Ay.div(z||(z=(0,tn.A)(["\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: ",";\n  box-shadow: ",";\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  animation: "," 0.8s ease-out 1s both;\n  \n  .rbc-calendar {\n    width: 100%;\n    height: 100% !important;\n  }\n  \n  .rbc-month-view {\n    border: none;\n    margin: 0;\n    width: 100%;\n  }\n  \n  .rbc-month-row {\n    min-height: 120px;\n  }\n  \n  .rbc-row {\n    margin: 0;\n  }\n\n  .rbc-header {\n    padding: 8px 0;\n    text-align: center;\n    font-size: 0.9rem;\n    border: none !important;\n    \n    &:first-child {\n      color: #ff4444;  // \uc77c\uc694\uc77c \ud5e4\ub354\n    }\n    &:last-child {\n      color: #0066ff;  // \ud1a0\uc694\uc77c \ud5e4\ub354\n    }\n  }\n  \n  .rbc-date-cell {\n    cursor: pointer;\n    padding: 4px;\n    text-align: center;\n    \n    > a {\n      font-size: 0.9rem;\n      margin: 0;\n      padding-top: 4px;\n      display: inline-block;\n    }\n    \n    &:hover {\n      background-color: rgba(255, 182, 193, 0.1);\n    }\n  }\n  \n  .rbc-event {\n    margin: 0;\n    padding: 2px 4px;\n    width: calc(100% - 2px) !important;\n    font-size: 0.85rem;\n    border: none;\n    border-radius: 2px;\n  }\n  \n  .rbc-row-segment {\n    padding: 0;\n  }\n  \n  .rbc-show-more {\n    margin: 0;\n    padding: 2px 4px;\n    background-color: transparent;\n    color: #666;\n    text-align: center;\n  }\n  \n  .rbc-month-view,\n  .rbc-month-row,\n  .rbc-date-cell,\n  .rbc-day-bg {\n    border: none !important;\n  }\n  \n  .rbc-month-row + .rbc-month-row {\n    border-top: 1px solid #eee;\n  }\n  \n  .rbc-toolbar {\n    display: none;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 0;\n    \n    .rbc-calendar {\n      height: calc(100vh - 60px) !important;\n    }\n    \n    .rbc-header {\n      padding: 8px 0;\n      font-size: 0.85rem;\n    }\n    \n    .rbc-date-cell > a {\n      font-size: 0.85rem;\n    }\n    \n    .rbc-event {\n      padding: 1px 2px;\n      margin: 0;\n      font-size: 0.8rem;\n    }\n  }\n\n  .rbc-date-cell {\n    cursor: pointer;\n    \n    &:hover {\n      background-color: #f8f8f8;\n    }\n  }\n\n  .rbc-selectable {\n    .rbc-day-bg {\n      cursor: pointer;\n      transition: background-color 0.2s;\n      \n      &:hover {\n        background-color: rgba(255, 182, 193, 0.1);\n      }\n      \n      &.rbc-selected {\n        background-color: rgba(255, 182, 193, 0.2);\n      }\n    }\n  }\n\n  .rbc-day-bg {\n    cursor: pointer;\n    transition: background-color 0.2s;\n    \n    &:hover {\n      background-color: rgba(255, 182, 193, 0.1);\n    }\n  }\n\n  .rbc-today {\n    background-color: #FFF9F9;  // \uc624\ub298 \ub0a0\uc9dc \ubc30\uacbd\uc0c9\n  }\n\n  .rbc-off-range-bg {\n    background-color: transparent;\n  }\n\n  .rbc-off-range {\n    color: #ccc;\n  }\n"])),xn.Vq["2xl"],xn.Eo.lg,vn),Hn=gn.Ay.div(C||(C=(0,tn.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 400px;\n  color: #666;\n  font-size: 1.2rem;\n"]))),Pn=gn.Ay.div(Y||(Y=(0,tn.A)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n  box-sizing: border-box;  // \ud328\ub529\uc744 \ub108\ube44\uc5d0 \ud3ec\ud568\n"]))),Un=gn.Ay.div(M||(M=(0,tn.A)(["\n  background-color: white;\n  padding: 2rem;\n  border-radius: 10px;\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  margin: auto;\n  position: relative;\n  box-sizing: border-box;  // \ud328\ub529\uc744 \ub108\ube44\uc5d0 \ud3ec\ud568\n\n  @media (max-width: 768px) {\n    width: 95%;\n    padding: 1rem;\n    margin: 10px;\n  }\n\n  // \uc2a4\ud06c\ub864\ubc14 \uc2a4\ud0c0\uc77c\ub9c1\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #FFB6C1;\n    border-radius: 3px;\n  }\n\n  // \ud3fc \uc694\uc18c\ub4e4\uc758 \ub108\ube44 \uc870\uc815\n  input, textarea, select {\n    width: 100%;\n    box-sizing: border-box;\n  }\n"]))),Rn=gn.Ay.form(E||(E=(0,tn.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    gap: 0.8rem;\n  }\n"]))),Vn=gn.Ay.div(D||(D=(0,tn.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  width: 100%;\n"]))),$n=gn.Ay.label(S||(S=(0,tn.A)(["\n  color: #666;\n  font-size: 0.9rem;\n"]))),qn=gn.Ay.input(I||(I=(0,tn.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),Wn=gn.Ay.textarea(K||(K=(0,tn.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),Nn=gn.Ay.div(T||(T=(0,tn.A)(["\n  display: flex;\n  gap: 1rem;\n  margin-top: 1.5rem;\n  position: sticky;\n  bottom: 0;\n  background: white;\n  padding: 1rem 0;\n  border-top: 1px solid #eee;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 0.5rem;\n    \n    button {\n      width: 100%;\n    }\n  }\n"]))),Jn=gn.Ay.button(B||(B=(0,tn.A)(["\n  padding: 0.8rem 1.5rem;\n  border: none;\n  border-radius: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: ",";\n  cursor: ",";\n"])),(n=>n.disabled?.7:1),(n=>n.disabled?"not-allowed":"pointer")),Xn=(0,gn.Ay)(Jn)(G||(G=(0,tn.A)(["\n  background-color: #FFB6C1;\n  color: white;\n  flex: 1;\n  \n  &:hover {\n    background-color: #FF69B4;\n  }\n"]))),Zn=(0,gn.Ay)(Jn)(O||(O=(0,tn.A)(["\n  background-color: #ff4444;\n  color: white;\n  \n  &:hover {\n    background-color: #cc0000;\n  }\n"]))),Qn=(0,gn.Ay)(Jn)(_||(_=(0,tn.A)(["\n  background-color: #f0f0f0;\n  color: #666;\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n"]))),ne=gn.Ay.select(L||(L=(0,tn.A)(["\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  background-color: white;\n  color: #666;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l4 4 4-4'/%3E%3C/svg%3E\");\n  background-position: right 0.75rem center;\n  background-repeat: no-repeat;\n  background-size: 16px 12px;\n  padding-right: 2rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #FFB6C1;\n  }\n"]))),ee=gn.Ay.div(H||(H=(0,tn.A)(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid #ffffff;\n  border-top: 2px solid transparent;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),te=gn.Ay.div(P||(P=(0,tn.A)(["\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  background-color: ",";\n  color: white;\n  z-index: 1000;\n  animation: slideUp 0.3s ease;\n  \n  @keyframes slideUp {\n    from { transform: translate(-50%, 20px); opacity: 0; }\n    to { transform: translate(-50%, 0); opacity: 1; }\n  }\n"])),(n=>"error"===n.type?"#f44336":"#4CAF50")),re=(0,gn.Ay)(Pn)(U||(U=(0,tn.A)(["\n  z-index: 1100;\n"]))),oe=gn.Ay.div(R||(R=(0,tn.A)(["\n  background-color: white;\n  padding: 2rem;\n  border-radius: 10px;\n  text-align: center;\n  width: 90%;\n  max-width: 400px;\n  \n  h3 {\n    margin-top: 0;\n    color: #333;\n  }\n  \n  p {\n    margin: 1rem 0;\n    color: #666;\n    \n    strong {\n      color: #333;\n    }\n  }\n"]))),ae=gn.Ay.div(V||(V=(0,tn.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 2rem;\n"]))),ie=(0,gn.Ay)(Zn)($||($=(0,tn.A)(["\n  width: 120px;\n"]))),le=(0,gn.Ay)(Un)(q||(q=(0,tn.A)(["\n  max-width: 400px;\n  \n  h2 {\n    text-align: center;\n    margin-bottom: 1.5rem;\n  }\n"]))),de=gn.Ay.div(W||(W=(0,tn.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  max-height: 400px;\n  overflow-y: auto;\n  margin-bottom: 1.5rem;\n  padding-right: 0.5rem;\n  \n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #FFB6C1;\n    border-radius: 3px;\n  }\n"]))),se=gn.Ay.div(N||(N=(0,tn.A)(["\n  padding: 1rem;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background-color: #f0f0f0;\n    transform: translateX(2px);\n  }\n"]))),ce=gn.Ay.div(J||(J=(0,tn.A)(["\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 0.3rem;\n"]))),pe=gn.Ay.div(X||(X=(0,tn.A)(["\n  font-size: 0.9rem;\n  color: #666;\n"]))),ge=gn.Ay.button(Z||(Z=(0,tn.A)(["\n  background-color: #f0f0f0;\n  color: #666;\n  padding: 0.8rem 1.5rem;\n  border: none;\n  border-radius: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: ",";\n  cursor: ",";\n  \n  &:hover {\n    background-color: #e0e0e0;\n  }\n"])),(n=>n.disabled?.7:1),(n=>n.disabled?"not-allowed":"pointer")),be=gn.Ay.div(Q||(Q=(0,tn.A)(["\n  margin: 1.5rem 0;\n  padding: 1rem;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n"]))),he=gn.Ay.div(nn||(nn=(0,tn.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n"]))),xe=gn.Ay.div(en||(en=(0,tn.A)(['\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  input[type="radio"] {\n    accent-color: #FFB6C1;\n  }\n  \n  label {\n    color: #333;\n    cursor: pointer;\n  }\n']))),me=()=>{const[n,e]=(0,on.useState)([]),[t,a]=(0,on.useState)(!0),[i,l]=(0,on.useState)(null),[d,s]=(0,on.useState)(!1),[c,p]=(0,on.useState)({title:"",start:"",end:"",description:"",location:"",type:"DEFAULT",repeat:{type:yn}}),[g,b]=(0,on.useState)(!1),[h,x]=(0,on.useState)({type:"",content:""}),[m,u]=(0,on.useState)(!1),[f,y]=(0,on.useState)({isOpen:!1,date:null,events:[]}),[A,w]=(0,on.useState)("single"),[v,k]=(0,on.useState)(new Date),[j,F]=(0,on.useState)(null);(0,on.useEffect)((()=>{z()}),[]),(0,on.useEffect)((()=>{}),[d]),(0,on.useEffect)((()=>{const n=n=>{if("ArrowLeft"===n.key){const n=new Date(v);n.setMonth(v.getMonth()-1),k(n)}else if("ArrowRight"===n.key){const n=new Date(v);n.setMonth(v.getMonth()+1),k(n)}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)}),[v]);const z=async()=>{try{const n=(0,hn.P)((0,hn.rJ)(bn.db,"events"),(0,hn.My)("start")),t=(await(0,hn.GG)(n)).docs.map((n=>(0,rn.A)((0,rn.A)({id:n.id},n.data()),{},{start:n.data().start.toDate(),end:n.data().end.toDate()})));e(t)}catch(n){console.error("Error fetching events:",n)}finally{a(!1)}},C=n=>{l(n),p({title:n.title,start:(0,ln.Ay)(n.start,"yyyy-MM-dd"),end:(0,ln.Ay)(n.end,"yyyy-MM-dd"),description:n.description||"",location:n.location||"",type:n.type||"DEFAULT",repeat:n.repeat||{type:yn}}),s(!0)},Y=(n,e)=>{x({type:n,content:e}),setTimeout((()=>x({type:"",content:""})),3e3)};gn.Ay.div(r||(r=(0,tn.A)(["\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    margin-bottom: 1rem;\n  "]))),gn.Ay.button(o||(o=(0,tn.A)(["\n    padding: 0.5rem 1rem;\n    border: none;\n    border-radius: 5px;\n    background-color: #f0f0f0;\n    cursor: pointer;\n    \n    &:hover {\n      background-color: #e0e0e0;\n    }\n  "])));return(0,mn.jsxs)(jn,{children:[(0,mn.jsx)(Fn,{}),(0,mn.jsx)(zn,{children:(0,mn.jsxs)(Cn,{children:[(0,mn.jsxs)(Yn,{children:[(0,mn.jsx)(Mn,{children:"\ud83d\udc51"}),(0,mn.jsx)(En,{children:"\uad00\ub9ac\uc790"})]}),(0,mn.jsxs)(Dn,{children:[(0,mn.jsx)(Sn,{children:"\ud83d\udcc5"}),(0,mn.jsx)(In,{children:"\uc77c\uc815 \uad00\ub9ac"}),(0,mn.jsx)(Kn,{children:"\uccad\ub144\ubd80 \ud589\uc0ac \ubc0f \ubaa8\uc784 \uc77c\uc815 \uad00\ub9ac"}),(0,mn.jsx)(Tn,{children:(0,ln.Ay)(v,"yyyy\ub144 M\uc6d4")})]}),(0,mn.jsxs)(Bn,{children:[(0,mn.jsx)(Gn,{children:"\ud83d\udcca"}),(0,mn.jsxs)(On,{children:["\uc774\ubc88 \ub2ec ",n.filter((n=>(0,ln.Ay)(n.start,"yyyy-MM")===(0,ln.Ay)(v,"yyyy-MM"))).length,"\uac1c\uc758 \uc77c\uc815\uc774 \uc788\uc2b5\ub2c8\ub2e4"]})]})]})}),(0,mn.jsx)(_n,{children:(0,mn.jsx)(Ln,{onTouchStart:n=>{F(n.touches[0].clientX)},onTouchEnd:n=>{if(!j)return;const e=n.changedTouches[0].clientX,t=j-e;if(Math.abs(t)>50){const n=new Date(v);t>0?n.setMonth(v.getMonth()+1):n.setMonth(v.getMonth()-1),k(n)}F(null)},children:t?(0,mn.jsx)(Hn,{children:"\uc77c\uc815\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."}):(0,mn.jsx)(an.Vv,{localizer:fn,events:n,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"ko",selectable:!0,onSelectSlot:n=>{let{start:e}=n;l(null),p({title:"",start:(0,ln.Ay)(new Date(e),"yyyy-MM-dd"),end:(0,ln.Ay)(new Date(e),"yyyy-MM-dd"),description:"",location:"",type:"DEFAULT",repeat:{type:yn}}),s(!0)},onSelectEvent:C,views:["month"],defaultView:"month",toolbar:!0,formats:{monthHeaderFormat:"yyyy\ub144 MM\uc6d4",dayHeaderFormat:"eee",dayRangeHeaderFormat:n=>{let{start:e,end:t}=n;return"".concat((0,ln.Ay)(e,"MM\uc6d4 dd\uc77c")," - ").concat((0,ln.Ay)(t,"MM\uc6d4 dd\uc77c"))}},messages:{showMore:n=>"+".concat(n,"\uac1c \ub354\ubcf4\uae30")},eventPropGetter:n=>{const e=wn[n.type]||wn.DEFAULT;return{style:{backgroundColor:e.bgColor,color:e.color}}},dayPropGetter:n=>{const e=new Date,t=n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getYear()===e.getYear(),r=0===n.getDay(),o=6===n.getDay();return{style:{cursor:"pointer",backgroundColor:t?"#FFF9F9":"white",color:r?"#ff4444":o?"#0066ff":"#333"}}},date:v,onNavigate:n=>k(n),draggableAccessor:()=>!1,longPressThreshold:20,components:{dateCellWrapper:n=>(0,mn.jsx)("div",{style:{height:"100%"},children:n.children})}})})}),d&&(0,mn.jsx)(Pn,{onClick:()=>s(!1),children:(0,mn.jsxs)(Un,{onClick:n=>n.stopPropagation(),children:[(0,mn.jsx)("h2",{children:i?"\uc77c\uc815 \uc218\uc815":"\uc0c8 \uc77c\uc815"}),(0,mn.jsxs)(Rn,{onSubmit:async n=>{n.preventDefault(),b(!0);try{const n={title:c.title,start:new Date(c.start.split("T")[0]),end:new Date(c.end.split("T")[0]),allDay:!0,description:c.description,location:c.location,type:c.type,repeat:c.repeat};if(c.repeat.type!==yn){const e=new Date;e.setFullYear(e.getFullYear()+1);const t=((n,e,t)=>{const r=crypto.randomUUID(),o=[(0,rn.A)((0,rn.A)({},n),{},{repeatGroupId:r,isRecurring:!0})],a=new Date(n.start),i=new Date(n.end)-a;for(let l=a.getFullYear()+1;l<=t.getFullYear()+5;l++){const e=new Date(a);e.setFullYear(l);const t=new Date(e.getTime()+i);o.push((0,rn.A)((0,rn.A)({},n),{},{start:e,end:t,repeatGroupId:r,isRecurring:!0}))}return o})(n,c.repeat,e),r=(0,hn.wP)(bn.db);t.forEach((n=>{const e=(0,hn.H9)((0,hn.rJ)(bn.db,"events"));r.set(e,n)})),await r.commit(),Y("success","\ubc18\ubcf5 \uc77c\uc815\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else i?(await(0,hn.mZ)((0,hn.H9)(bn.db,"events",i.id),n),Y("success","\uc77c\uc815\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):(await(0,hn.gS)((0,hn.rJ)(bn.db,"events"),n),Y("success","\uc0c8 \uc77c\uc815\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));await z(),s(!1),l(null)}catch(e){console.error("Error saving event:",e),Y("error","\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{b(!1)}},children:[(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc81c\ubaa9"}),(0,mn.jsx)(qn,{type:"text",value:c.title,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{title:n.target.value})),required:!0})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc2dc\uc791 \ub0a0\uc9dc"}),(0,mn.jsx)(qn,{type:"date",value:c.start,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{start:n.target.value})),required:!0})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc885\ub8cc \ub0a0\uc9dc"}),(0,mn.jsx)(qn,{type:"date",value:c.end,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{end:n.target.value})),required:!0})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc124\uba85"}),(0,mn.jsx)(Wn,{value:c.description,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{description:n.target.value}))})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc7a5\uc18c"}),(0,mn.jsx)(qn,{type:"text",value:c.location,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{location:n.target.value}))})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\uc77c\uc815 \ud0c0\uc785"}),(0,mn.jsx)(ne,{value:c.type,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{type:n.target.value})),children:Object.entries(wn).map((n=>{let[e,t]=n;return(0,mn.jsx)("option",{value:e,children:t.label},e)}))})]}),(0,mn.jsxs)(Vn,{children:[(0,mn.jsx)($n,{children:"\ubc18\ubcf5"}),(0,mn.jsxs)(ne,{value:c.repeat.type,onChange:n=>p((0,rn.A)((0,rn.A)({},c),{},{repeat:{type:n.target.value}})),children:[(0,mn.jsx)("option",{value:yn,children:"\ubc18\ubcf5 \uc548\ud568"}),(0,mn.jsx)("option",{value:An,children:"\ub9e4\ub144"})]})]}),(0,mn.jsxs)(Nn,{children:[(0,mn.jsx)(Xn,{type:"submit",disabled:g,children:g?(0,mn.jsx)(ee,{}):i?"\uc218\uc815":"\ucd94\uac00"}),i&&(0,mn.jsx)(Zn,{type:"button",onClick:async()=>{i&&u(!0)},disabled:g,children:g?(0,mn.jsx)(ee,{}):"\uc0ad\uc81c"}),(0,mn.jsx)(Qn,{type:"button",onClick:()=>s(!1),disabled:g,children:"\ucde8\uc18c"})]})]})]})}),m&&(0,mn.jsx)(re,{children:(0,mn.jsxs)(oe,{children:[(0,mn.jsx)("h3",{children:"\uc77c\uc815 \uc0ad\uc81c"}),(0,mn.jsx)("p",{children:"\uc815\ub9d0 \uc774 \uc77c\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,mn.jsx)("p",{children:(0,mn.jsx)("strong",{children:null===i||void 0===i?void 0:i.title})}),(null===i||void 0===i?void 0:i.isRecurring)&&(0,mn.jsx)(be,{children:(0,mn.jsxs)(he,{children:[(0,mn.jsxs)(xe,{children:[(0,mn.jsx)("input",{type:"radio",id:"single",name:"deleteOption",value:"single",checked:"single"===A,onChange:n=>w(n.target.value)}),(0,mn.jsx)("label",{htmlFor:"single",children:"\uc774 \uc77c\uc815\ub9cc \uc0ad\uc81c"})]}),(0,mn.jsxs)(xe,{children:[(0,mn.jsx)("input",{type:"radio",id:"all",name:"deleteOption",value:"all",checked:"all"===A,onChange:n=>w(n.target.value)}),(0,mn.jsx)("label",{htmlFor:"all",children:"\ubaa8\ub4e0 \ubc18\ubcf5 \uc77c\uc815 \uc0ad\uc81c"})]})]})}),(0,mn.jsxs)(ae,{children:[(0,mn.jsx)(ie,{onClick:async()=>{b(!0);try{if(null!==i&&void 0!==i&&i.isRecurring&&"all"===A){const n=(0,hn.P)((0,hn.rJ)(bn.db,"events"),(0,hn._M)("repeatGroupId","==",i.repeatGroupId)),e=await(0,hn.GG)(n),t=(0,hn.wP)(bn.db);e.docs.forEach((n=>{t.delete(n.ref)})),await t.commit(),Y("success","\ubaa8\ub4e0 \ubc18\ubcf5 \uc77c\uc815\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else await(0,hn.kd)((0,hn.H9)(bn.db,"events",i.id)),Y("success","\uc77c\uc815\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");await z(),s(!1),u(!1),l(null)}catch(n){console.error("Error deleting event:",n),Y("error","\uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{b(!1)}},disabled:g,children:g?(0,mn.jsx)(ee,{}):"\uc0ad\uc81c"}),(0,mn.jsx)(Qn,{onClick:()=>u(!1),disabled:g,children:"\ucde8\uc18c"})]})]})}),h.content&&(0,mn.jsx)(te,{type:h.type,children:h.content}),f.isOpen&&(0,mn.jsx)(Pn,{onClick:()=>y({isOpen:!1,date:null,events:[]}),children:(0,mn.jsxs)(le,{onClick:n=>n.stopPropagation(),children:[(0,mn.jsxs)("h2",{children:[(0,ln.Ay)(f.date,"yyyy\ub144 MM\uc6d4 dd\uc77c")," \uc77c\uc815"]}),(0,mn.jsx)(de,{children:f.events.map(((n,e)=>(0,mn.jsxs)(se,{onClick:()=>{C(n),y({isOpen:!1,date:null,events:[]})},children:[(0,mn.jsx)(ce,{children:n.title}),n.location&&(0,mn.jsx)(pe,{children:n.location})]},e)))}),(0,mn.jsx)(ge,{onClick:()=>y({isOpen:!1,date:null,events:[]}),children:"\ub2eb\uae30"})]})})]})}}}]);